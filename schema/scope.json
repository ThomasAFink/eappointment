{
    "type": "object",
    "description": "unit for processing services for clients",
    "properties": {
        "contact": {
            "$ref": "contact.json"
        },
        "department": {
            "$ref": "department.json"
        },
        "hint": {
            "type": "string",
            "description": "hint for the client like a description where to find the scope"
        },
        "id": {
            "type": "integer",
            "description": "auto increment"
        },
        "preferences": {
            "type": "object",
            "properties": {
                "appointment": {
                    "type": "object",
                    "properties": {
                        "deallocationDuration": {
                            "type": "integer",
                            "description": "minutes before an deleted appointment is free for booking again to prevent appointment trading"
                        },
                        "endInDaysDefault": {
                            "type": "integer",
                            "description": "maximum number of days in the future to offer appointments"
                        },
                        "multipleSlotsEnabled": {
                            "type": "boolean",
                            "description": "true if more than one timeslot per appointment is allowed"
                        },
                        "reservationDuration": {
                            "type": "integer",
                            "description": "minutes an appointment can have the status reserved"
                        },
                        "startInDaysDefault": {
                            "type": "integer",
                            "description": "number of days relative to today to start offering appointments"
                        }
                    }
                },
                "client": {
                    "type": "object",
                    "properties": {
                        "alternateAppointmentUrl": {
                            "type": "string",
                            "description": "redirect url if client should book appointments over a specialised application"
                        },
                        "amendmentLabel": {
                            "type": "string",
                            "description": "label for the form field to enter additional informations to a process"
                        },
                        "amendmentRequired": {
                            "type": "boolean",
                            "description": "true if an amendment is required"
                        },
                        "emailRequired": {
                            "type": "boolean",
                            "description": "true if client is required to enter an email address"
                        },
                        "telephoneActivated": {
                            "type": "boolean",
                            "description": "true if client is allowed to enter a telephone number"
                        },
                        "telephoneRequired": {
                            "type": "boolean",
                            "description": "true if client is required to enter a telephone number"
                        }
                    }
                },
                "notifications": {
                    "type": "object",
                    "properties": {
                        "confirmationContent": {
                            "type": "string",
                            "description": "text to send to client to confirm the appointment"
                        },
                        "headsUpTime": {
                            "type": "integer",
                            "description": "minutes before call to send a sms to the client"
                        },
                        "headsUpContent": {
                            "type": "string",
                            "description": "text to send a short time before a call"
                        }
                    }
                },
                "pickup": {
                    "type": "object",
                    "properties": {
                        "alternateName": {
                            "type": "string",
                            "description": "alternate text to display on call display if pickup of documents is required"
                        },
                        "isDefault": {
                            "type": "boolean",
                            "description": "a pickup of documents is default, this scope is preselected for pickup"
                        }
                    }
                },
                "queue": {
                    "type": "object",
                    "properties": {
                        "callCountMax": {
                            "type": "integer",
                            "description": "number of calls before a process is removed from the queue"
                        },
                        "callDisplayText": {
                            "type": "string",
                            "description": "text displayed at the right side on the call display"
                        },
                        "fistNumber": {
                            "type": "integer",
                            "description": "fist possible waiting number for ticket printer"
                        },
                        "lastNumber": {
                            "type": "integer",
                            "description": "last possible waiting number for ticket printer"
                        },
                        "publishWaitingTimeEnabled": {
                            "type": "boolean",
                            "description": "true if waiting times are allowed to be published for public use"
                        },
                        "processingTimeAverage": {
                            "type": "integer",
                            "description": "minutes average for completing a process, used to estimate waiting time"
                        },
                        "statisticsEnabled": {
                            "type": "boolean",
                            "description": "true if statistics are enabled"
                        }
                    }
                },
                "survey": {
                    "type": "object",
                    "properties": {
                        "emailContent": {
                            "type": "string",
                            "description": "content of an email to send to a client if he accepted to participate in a survey"
                        },
                        "enabled": {
                            "type": "boolean",
                            "description": "true if clients should be asked to participate in a survey"
                        },
                        "label": {
                            "type": "string",
                            "description": "text to display next to the checkbox asking the client to participate in the survey"
                        }
                    }
                },
                "ticketprinter": {
                    "type": "object",
                    "properties": {
                        "confirmationEnabled": {
                            "type": "boolean",
                            "description": "true if client should get a notification to confirm that notifications are enabled for him/her"
                        },
                        "deactivatedText": {
                            "type": "string",
                            "description": "text to display on the ticket printer, if all ticket printers are disabled"
                        },
                        "notificationsEnabled": {
                            "type": "boolean",
                            "description": "true if notifications for calling up clients are enabled"
                        },
                        "notificationsAmendmentEnabled": {
                            "type": "boolean",
                            "description": "true if a client is allowed to enter a notfication address after getting his waiting number"
                        },
                        "notificationsDelay": {
                            "type": "integer",
                            "description": "minutes waiting before a client is able to enter a notification address"
                        }
                    }
                },
                "workstation": {
                    "type": "object",
                    "properties": {
                        "emergencyEnabled": {
                            "type": "boolean",
                            "description": "true if an emergency button should be displayed on workstation screens"
                        }
                    }
                }
            }
        },
        "provider": {
            "properties": {
                "contact": {
                    "$ref": "contact.json"
                },
                "id": {
                    "type": "string",
                    "description": "reference to an id"
                },
                "name": {
                    "type": "string",
                    "description": "name of the referenced service (explicit redundant)"
                },
                "source": {
                    "type": "string",
                    "description": "source of provider to resolve reference id"
                }
            }
        },
        "shortName": {
            "type": "string",
            "description": "short identifier to differentiate between nearly identical scopes"
        },
        "status": {
            "type": "object",
            "properties": {
                "emergency": {
                    "type": "object",
                    "description": "If activated, a workstation has an emergency-button to call for help",
                    "properties": {
                        "acceptedByWorkstation": {
                            "type": "string",
                            "description": "name of workstation which accepted the emergency call"
                        },
                        "activated": {
                            "type": "boolean",
                            "description": "true in case of emergency"
                        },
                        "calledByWorkstation": {
                            "type": "string",
                            "description": "name of workstation where the emergency occured"
                        }
                    }
                },
                "queue": {
                    "type": "object",
                    "properties": {
                        "givenNumberCount": {
                            "type": "integer",
                            "description": "counter for given waiting numbers for the current day"
                        },
                        "ghostWorkstationCount": {
                            "type": "integer",
                            "description": "a fictive number of workstations to calculate waiting times, if zero, the real number of workingstations is used"
                        },
                        "lastGivenNumber": {
                            "type": "integer",
                            "description": "last given waiting number"
                        },
                        "lastGivenNumberTimestamp": {
                            "type": "integer",
                            "description": "unix timestamp of the last given waiting number"
                        }
                    }
                },
                "ticketprinter": {
                    "type": "object",
                    "properties": {
                        "deactivated": {
                            "type": "boolean",
                            "description": "true if all ticket printers are disabled"
                        }
                    }
                }
            }
        }
    }
}
