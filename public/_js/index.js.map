{"version":3,"sources":["js/node_modules/browser-pack/_prelude.js","js/index.js","js/js/block/digital-clock.js","js/js/block/notification-keyboard-handheld.js","js/js/element/form/preventFormResubmit.js","js/js/index.js","js/js/lib/baseview.js","js/js/lib/bindHandler.js","js/js/lib/dialogHandler.js","js/js/lib/errorHandler.js","js/js/lib/utils.js","js/js/page/main.js","js/js/page/newhash.js","js/js/page/process.js","js/js/settings.js","js/node_modules/js-cookie/src/js.cookie.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_createClass","defineProperties","target","props","descriptor","key","protoProps","staticProps","_baseview","_baseview2","View","_BaseView","element","this","_this","getPrototypeOf","bindPublicMethods","console","log","$","ready","setInterval","time","Date","hour","getHours","minute","getMinutes","second","getSeconds","temp","text","_setInterval","apply","arguments","toString","initClock","../lib/baseview","2","_jquery","_jquery2","source","attr","minNumberLength","find","on","appendNumber","deleteNumber","clearNumbers","$numberInput","event","$content","closest","number","val","checkNumber","replace","$button","removeClass","hasClass","addClass","jquery","3","preventFormResubmit","$form","ev","data","stopPropagation","preventDefault","4","global","_window","window","_window2","_settings","_settings2","_main","_main2","_newhash","_newhash2","_process","_process2","_digitalClock","_digitalClock2","_notificationKeyboardHandheld","_notificationKeyboardHandheld2","_preventFormResubmit","_preventFormResubmit2","bo","zmsticketprinter","each","./block/digital-clock","./block/notification-keyboard-handheld","./element/form/preventFormResubmit","./page/main","./page/newhash","./page/process","./settings","babel-polyfill","5","_errorHandler","_errorHandler2","_dialogHandler","_dialogHandler2","_utils","BaseView","_ErrorHandler","$main","get","url","method","undefined","ajaxSettings","Promise","resolve","reject","ajax","done","responseData","fail","err","response","_callback","_lightbox","lightbox","destroyLightbox","lightboxContentElement","callback","./dialogHandler","./errorHandler","./utils","6","BindHandler","object","_len","methods","Array","_key","forEach","bind","7","DialogHandler","options","parent","handleLightbox","bindEvents","render","content","filter","message","outerHTML","html","off","8","_bindHandler","_bindHandler2","ErrorHandler","_BindHandler","set","./bindHandler","9","forceHttps","lightboxHtml","parentElement","onBackgroundClick","lightboxElement","remove","append","document","location","protocol","loadCallStatic","includeUrl","then","loadDialogStatic","href","substring","../settings","./baseview","10","getUrl","reloadTime","reloadInterval","reloadPage","relativePath","includepath","11","_jsCookie","_jsCookie2","load","secure","setTimeout","_setTimeout","js-cookie","12","printDialog","_this2","title","print","beforePrint","afterPrint","reload","matchMedia","mediaQueryList","addListener","mql","matches","onbeforeprint","onafterprint","13","animationEnd","14","factory","registeredInModuleLoader","define","amd","OldCookies","Cookies","api","noConflict","extend","result","attributes","decode","s","decodeURIComponent","init","converter","path","defaults","expires","toUTCString","JSON","stringify","test","write","encodeURIComponent","String","escape","stringifiedAttributes","attributeName","split","cookie","json","jar","cookies","parts","slice","join","charAt","name","read","parse","getJSON","withConverter"],"mappings":"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","file":"index.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _baseview = require('../lib/baseview');\n\nvar _baseview2 = _interopRequireDefault(_baseview);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global setInterval */\n\n\nvar View = function (_BaseView) {\n    _inherits(View, _BaseView);\n\n    function View(element) {\n        _classCallCheck(this, View);\n\n        var _this = _possibleConstructorReturn(this, (View.__proto__ || Object.getPrototypeOf(View)).call(this, element));\n\n        _this.bindPublicMethods('initClock', 'setInterval');\n        console.log(\"Found digital clock\");\n        _this.$.ready(_this.setInterval);\n        return _this;\n    }\n\n    _createClass(View, [{\n        key: 'initClock',\n        value: function initClock() {\n            var time = new Date();\n            var hour = time.getHours();\n            var minute = time.getMinutes();\n            var second = time.getSeconds();\n            var temp = hour;\n            if (second % 2) temp += (minute < 10 ? \":0\" : \":\") + minute;else temp += (minute < 10 ? \":0\" : \" \") + minute;\n            this.$.text(temp);\n        }\n    }, {\n        key: 'setInterval',\n        value: function (_setInterval) {\n            function setInterval() {\n                return _setInterval.apply(this, arguments);\n            }\n\n            setInterval.toString = function () {\n                return _setInterval.toString();\n            };\n\n            return setInterval;\n        }(function () {\n            setInterval(this.initClock, 1000);\n        })\n    }]);\n\n    return View;\n}(_baseview2.default);\n\nexports.default = View;\n\n},{\"../lib/baseview\":5}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _baseview = require('../lib/baseview');\n\nvar _baseview2 = _interopRequireDefault(_baseview);\n\nvar _jquery = require('jquery');\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar View = function (_BaseView) {\n    _inherits(View, _BaseView);\n\n    function View(element) {\n        _classCallCheck(this, View);\n\n        var _this = _possibleConstructorReturn(this, (View.__proto__ || Object.getPrototypeOf(View)).call(this, element));\n\n        _this.source = _this.$.attr('id');\n        if (_this.source == \"waitingNumberPad\") {\n            _this.minNumberLength = 1;\n        } else {\n            _this.minNumberLength = 10;\n        }\n\n        _this.bindPublicMethods('appendNumber', 'deleteNumber', 'clearNumbers', 'checkNumber');\n        console.log(\"Found keyboard-handheld\");\n        _this.$.find('button.ziffer').on('click', _this.appendNumber);\n        _this.$.find('button#removelastdigit').on('click', _this.deleteNumber);\n        _this.$.find('button#removealldigitsphone').on('click', _this.clearNumbers);\n        _this.$numberInput = _this.$.find('.nummerneingabe');\n        return _this;\n    }\n\n    _createClass(View, [{\n        key: 'appendNumber',\n        value: function appendNumber(event) {\n            var $content = (0, _jquery2.default)(event.target).closest('button');\n            var number = $content.text();\n            this.$numberInput.val(this.$numberInput.val() + '' + number);\n            this.checkNumber();\n            return false;\n        }\n    }, {\n        key: 'deleteNumber',\n        value: function deleteNumber() {\n            this.$numberInput.val(this.$numberInput.val().replace(/.$/, ''));\n            this.checkNumber();\n            return false;\n        }\n    }, {\n        key: 'clearNumbers',\n        value: function clearNumbers() {\n            this.$numberInput.val('');\n            this.checkNumber();\n            return false;\n        }\n    }, {\n        key: 'checkNumber',\n        value: function checkNumber() {\n            //console.log(this.$numberInput.val());\n            var number = this.$numberInput.val();\n            if (this.source == 'waitingNumberPad') {\n                number = number.replace(/^0+/, '');\n            }\n            number = number.replace(/[^\\d]/g, '');\n            var $button = this.$.find('.nachtrag');\n            if (number.length >= this.minNumberLength) {\n                $button.removeClass('disabled').attr('disabled', false);\n            } else {\n                if (!$button.hasClass('disabled')) {\n                    $button.addClass('disabled').attr('disabled', true);\n                }\n            }\n            this.$numberInput.val(number);\n        }\n    }]);\n\n    return View;\n}(_baseview2.default);\n\nexports.default = View;\n\n},{\"../lib/baseview\":5,\"jquery\":\"jquery\"}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _jquery = require('jquery');\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar preventFormResubmit = function preventFormResubmit(element) {\n  var $form = (0, _jquery2.default)(element);\n\n  $form.on('submit', function (ev) {\n    if ($form.data('submitted') === true) {\n      // Previously submitted - don't submit again\n      ev.stopPropagation();\n      ev.preventDefault();\n    } else {\n      // Mark it so that the next submit can be ignored\n      $form.data('submitted', true);\n    }\n  });\n};\n\nexports.default = preventFormResubmit;\n\n},{\"jquery\":\"jquery\"}],4:[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nrequire(\"babel-polyfill\");\n\nvar _window = (typeof window !== \"undefined\" ? window['window'] : typeof global !== \"undefined\" ? global['window'] : null);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _jquery = require(\"jquery\");\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _settings = require(\"./settings\");\n\nvar _settings2 = _interopRequireDefault(_settings);\n\nvar _main = require(\"./page/main\");\n\nvar _main2 = _interopRequireDefault(_main);\n\nvar _newhash = require(\"./page/newhash\");\n\nvar _newhash2 = _interopRequireDefault(_newhash);\n\nvar _process = require(\"./page/process\");\n\nvar _process2 = _interopRequireDefault(_process);\n\nvar _digitalClock = require(\"./block/digital-clock\");\n\nvar _digitalClock2 = _interopRequireDefault(_digitalClock);\n\nvar _notificationKeyboardHandheld = require(\"./block/notification-keyboard-handheld\");\n\nvar _notificationKeyboardHandheld2 = _interopRequireDefault(_notificationKeyboardHandheld);\n\nvar _preventFormResubmit = require(\"./element/form/preventFormResubmit\");\n\nvar _preventFormResubmit2 = _interopRequireDefault(_preventFormResubmit);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Bind jQuery on $ for testing\n\n//import { forceHttps } from './lib/utils'\n\n// Import Views\n// --------------------------------------------------------\n// ZMS Ticketprinter behavior\n// --------------------------------------------------------\n\n_window2.default.$ = _jquery2.default;\n\n// Import base libs\n\n_window2.default.bo = {\n    \"zmsticketprinter\": _settings2.default\n};\n\n// Init Views\n(0, _jquery2.default)('#newhash').each(function () {\n    new _newhash2.default(this);\n});\n(0, _jquery2.default)('#index, #message, #exception').each(function () {\n    new _main2.default(this);\n});\n(0, _jquery2.default)('#process').each(function () {\n    new _process2.default(this);\n});\n(0, _jquery2.default)('.digitaluhr').each(function () {\n    new _digitalClock2.default(this);\n});\n(0, _jquery2.default)('.smsbox').each(function () {\n    new _notificationKeyboardHandheld2.default(this);\n});\n\n// prevent resubmits\n(0, _jquery2.default)('form').each(function () {\n    (0, _preventFormResubmit2.default)(this);\n});\n\n// Say hello\nconsole.log(\"Welcome to the ZMS Ticketprinter interface...\");\n\n// Force https protocol\n//forceHttps();\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./block/digital-clock\":1,\"./block/notification-keyboard-handheld\":2,\"./element/form/preventFormResubmit\":3,\"./page/main\":10,\"./page/newhash\":11,\"./page/process\":12,\"./settings\":13,\"babel-polyfill\":\"babel-polyfill\",\"jquery\":\"jquery\"}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = require('jquery');\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _errorHandler = require('./errorHandler');\n\nvar _errorHandler2 = _interopRequireDefault(_errorHandler);\n\nvar _dialogHandler = require('./dialogHandler');\n\nvar _dialogHandler2 = _interopRequireDefault(_dialogHandler);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar BaseView = function (_ErrorHandler) {\n    _inherits(BaseView, _ErrorHandler);\n\n    function BaseView(element) {\n        _classCallCheck(this, BaseView);\n\n        var _this = _possibleConstructorReturn(this, (BaseView.__proto__ || Object.getPrototypeOf(BaseView)).call(this, element));\n\n        _this.$main = (0, _jquery2.default)(element);\n        return _this;\n    }\n\n    _createClass(BaseView, [{\n        key: '$',\n        get: function get() {\n            return this.$main;\n        }\n    }], [{\n        key: 'loadCallStatic',\n        value: function loadCallStatic(url) {\n            var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GET';\n            var data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n            var ajaxSettings = {\n                method: method\n            };\n            if (method === 'POST' || method === 'PUT') {\n                ajaxSettings.data = data;\n            }\n            return new Promise(function (resolve, reject) {\n                _jquery2.default.ajax(url, ajaxSettings).done(function (responseData) {\n                    resolve(responseData);\n                }).fail(function (err) {\n                    console.log('XHR load error', url, err);\n                    reject(err);\n                });\n            });\n        }\n    }, {\n        key: 'loadDialogStatic',\n        value: function loadDialogStatic(response, _callback) {\n            var _lightbox = (0, _utils.lightbox)(this.$main, function () {\n                destroyLightbox(), _callback();\n            }),\n                lightboxContentElement = _lightbox.lightboxContentElement,\n                destroyLightbox = _lightbox.destroyLightbox;\n\n            new _dialogHandler2.default(lightboxContentElement, {\n                response: response,\n                callback: function callback() {\n                    _callback();\n                    destroyLightbox();\n                }\n            });\n        }\n    }]);\n\n    return BaseView;\n}(_errorHandler2.default);\n\nexports.default = BaseView;\n\n},{\"./dialogHandler\":7,\"./errorHandler\":8,\"./utils\":9,\"jquery\":\"jquery\"}],6:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar BindHandler = function () {\n    function BindHandler() {\n        _classCallCheck(this, BindHandler);\n    }\n\n    _createClass(BindHandler, [{\n        key: \"bindPublicMethods\",\n        value: function bindPublicMethods() {\n            var object = this;\n\n            for (var _len = arguments.length, methods = Array(_len), _key = 0; _key < _len; _key++) {\n                methods[_key] = arguments[_key];\n            }\n\n            methods.forEach(function (method) {\n                if (typeof object[method] !== 'function') {\n                    throw \"Method not found: \" + method;\n                }\n                object[method] = object[method].bind(object);\n            });\n        }\n    }]);\n\n    return BindHandler;\n}();\n\nexports.default = BindHandler;\n\n},{}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = require('jquery');\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DialogHandler = function () {\n    function DialogHandler(element, options) {\n        _classCallCheck(this, DialogHandler);\n\n        this.$main = (0, _jquery2.default)(element);\n        this.response = options.response;\n        this.callback = options.callback || function () {};\n        this.parent = options.parent;\n        this.handleLightbox = options.handleLightbox || function () {};\n        this.bindEvents();\n        this.render();\n    }\n\n    _createClass(DialogHandler, [{\n        key: 'render',\n        value: function render() {\n            var content = (0, _jquery2.default)(this.response).filter('div.dialog');\n            if (content.length == 0) {\n                var message = (0, _jquery2.default)(this.response).find('div.dialog');\n                if (message.length > 0) {\n                    content = message.get(0).outerHTML;\n                }\n            }\n            this.$main.html(content);\n        }\n    }, {\n        key: 'bindEvents',\n        value: function bindEvents() {\n            var _this = this;\n\n            this.$main.off().on('click', '.button-ok', function (ev) {\n                ev.preventDefault();\n                ev.stopPropagation();\n                _this.callback(ev);\n            }).on('click', '.button-abort', function (ev) {\n                ev.preventDefault();\n                ev.stopPropagation();\n                _this.handleLightbox();\n            }).on('click', '.button-callback', function (ev) {\n                ev.preventDefault();\n                ev.stopPropagation();\n                var callback = (0, _jquery2.default)(ev.target).data('callback');\n                _this.callback = _this.parent[callback];\n                _this.callback(ev);\n            });\n        }\n    }]);\n\n    return DialogHandler;\n}();\n\nexports.default = DialogHandler;\n\n},{\"jquery\":\"jquery\"}],8:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _bindHandler = require(\"./bindHandler\");\n\nvar _bindHandler2 = _interopRequireDefault(_bindHandler);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ErrorHandler = function (_BindHandler) {\n    _inherits(ErrorHandler, _BindHandler);\n\n    function ErrorHandler() {\n        _classCallCheck(this, ErrorHandler);\n\n        var _this = _possibleConstructorReturn(this, (ErrorHandler.__proto__ || Object.getPrototypeOf(ErrorHandler)).call(this));\n\n        _this._errorHandler = function () {};\n        return _this;\n    }\n\n    _createClass(ErrorHandler, [{\n        key: \"errorHandler\",\n        get: function get() {\n            return this._errorHandler;\n        },\n        set: function set(callback) {\n            this._errorHandler = callback;\n        }\n    }]);\n\n    return ErrorHandler;\n}(_bindHandler2.default);\n\nexports.default = ErrorHandler;\n\n},{\"./bindHandler\":6}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.forceHttps = exports.lightbox = undefined;\n\nvar _jquery = require('jquery');\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _baseview = require('./baseview');\n\nvar _baseview2 = _interopRequireDefault(_baseview);\n\nvar _settings = require('../settings');\n\nvar _settings2 = _interopRequireDefault(_settings);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar lightboxHtml = '<div class=\"lightbox\"><div class=\"lightbox__content\"></div></div>';\n\nvar lightbox = exports.lightbox = function lightbox(parentElement, onBackgroundClick) {\n    var lightboxElement = (0, _jquery2.default)(lightboxHtml);\n\n    if (!parentElement) {\n        parentElement = (0, _jquery2.default)('body');\n        lightboxElement.addClass('fixed');\n    }\n\n    var destroyLightbox = function destroyLightbox() {\n        lightboxElement.off();\n        lightboxElement.remove();\n    };\n\n    var lightboxContentElement = lightboxElement.find('.lightbox__content');\n\n    lightboxElement.on('click', function (ev) {\n        //console.log('background click', ev);\n        ev.stopPropagation();\n        ev.preventDefault();\n        destroyLightbox();\n        onBackgroundClick();\n    }).on('click', '.lightbox__content', function (ev) {\n        ev.stopPropagation();\n    });\n\n    if ((0, _jquery2.default)(parentElement).find('.lightbox').length) {\n        (0, _jquery2.default)(parentElement).find('.lightbox').remove();\n    }\n    (0, _jquery2.default)(parentElement).append(lightboxElement);\n\n    return {\n        lightboxContentElement: lightboxContentElement,\n        destroyLightbox: destroyLightbox\n    };\n};\n\nvar forceHttps = exports.forceHttps = function forceHttps() {\n    if (document.location.protocol !== \"https:\") {\n        _baseview2.default.loadCallStatic(_settings2.default.includeUrl + '/dialog/?template=force_https').then(function (response) {\n            _baseview2.default.loadDialogStatic(response, function () {\n                document.location.href = \"https://\" + document.location.href.substring(document.location.protocol.length, document.location.href.length);\n            });\n        });\n    }\n};\n\n},{\"../settings\":13,\"./baseview\":5,\"jquery\":\"jquery\"}],10:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _baseview = require('../lib/baseview');\n\nvar _baseview2 = _interopRequireDefault(_baseview);\n\nvar _window = (typeof window !== \"undefined\" ? window['window'] : typeof global !== \"undefined\" ? global['window'] : null);\n\nvar _window2 = _interopRequireDefault(_window);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global setInterval */\n\n\nvar View = function (_BaseView) {\n    _inherits(View, _BaseView);\n\n    function View(element) {\n        _classCallCheck(this, View);\n\n        var _this = _possibleConstructorReturn(this, (View.__proto__ || Object.getPrototypeOf(View)).call(this, element));\n\n        _this.bindPublicMethods('setInterval', 'reloadPage');\n        console.log('Redirect to home url every 30 seconds');\n        _this.$.ready(_this.setInterval);\n        return _this;\n    }\n\n    _createClass(View, [{\n        key: 'reloadPage',\n        value: function reloadPage() {\n            _window2.default.location.href = this.getUrl('/home/');\n        }\n    }, {\n        key: 'setInterval',\n        value: function (_setInterval) {\n            function setInterval() {\n                return _setInterval.apply(this, arguments);\n            }\n\n            setInterval.toString = function () {\n                return _setInterval.toString();\n            };\n\n            return setInterval;\n        }(function () {\n            var reloadTime = _window2.default.bo.zmsticketprinter.reloadInterval;\n            setInterval(this.reloadPage, reloadTime * 1000);\n        })\n    }, {\n        key: 'getUrl',\n        value: function getUrl(relativePath) {\n            var includepath = _window2.default.bo.zmsticketprinter.includepath;\n            return includepath + relativePath;\n        }\n    }]);\n\n    return View;\n}(_baseview2.default);\n\nexports.default = View;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"../lib/baseview\":5}],11:[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _baseview = require(\"../lib/baseview\");\n\nvar _baseview2 = _interopRequireDefault(_baseview);\n\nvar _window = (typeof window !== \"undefined\" ? window['window'] : typeof global !== \"undefined\" ? global['window'] : null);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _jsCookie = require(\"js-cookie\");\n\nvar _jsCookie2 = _interopRequireDefault(_jsCookie);\n\nvar _jquery = require(\"jquery\");\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global setTimeout */\n\n\nvar View = function (_BaseView) {\n    _inherits(View, _BaseView);\n\n    function View(element) {\n        _classCallCheck(this, View);\n\n        var _this = _possibleConstructorReturn(this, (View.__proto__ || Object.getPrototypeOf(View)).call(this, element));\n\n        _this.bindPublicMethods('load', 'setTimeout', 'getUrl', 'reloadPage');\n        (0, _jquery2.default)(_window2.default).on('load', _this.load);\n        return _this;\n    }\n\n    _createClass(View, [{\n        key: \"load\",\n        value: function load() {\n            _jsCookie2.default.remove(\"Ticketprinter\", { secure: true });\n            this.setTimeout();\n        }\n    }, {\n        key: \"reloadPage\",\n        value: function reloadPage() {\n            _window2.default.location.href = this.getUrl('/home/');\n        }\n    }, {\n        key: \"setTimeout\",\n        value: function (_setTimeout) {\n            function setTimeout() {\n                return _setTimeout.apply(this, arguments);\n            }\n\n            setTimeout.toString = function () {\n                return _setTimeout.toString();\n            };\n\n            return setTimeout;\n        }(function () {\n            setTimeout(this.reloadPage, 5000);\n        })\n    }, {\n        key: \"getUrl\",\n        value: function getUrl(relativePath) {\n            var includepath = _window2.default.bo.zmsticketprinter.includepath;\n            return includepath + relativePath;\n        }\n    }]);\n\n    return View;\n}(_baseview2.default);\n\nexports.default = View;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"../lib/baseview\":5,\"jquery\":\"jquery\",\"js-cookie\":14}],12:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _baseview = require('../lib/baseview');\n\nvar _baseview2 = _interopRequireDefault(_baseview);\n\nvar _window = (typeof window !== \"undefined\" ? window['window'] : typeof global !== \"undefined\" ? global['window'] : null);\n\nvar _window2 = _interopRequireDefault(_window);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global setTimeout */\n\n\nvar View = function (_BaseView) {\n    _inherits(View, _BaseView);\n\n    function View(element) {\n        _classCallCheck(this, View);\n\n        var _this = _possibleConstructorReturn(this, (View.__proto__ || Object.getPrototypeOf(View)).call(this, element));\n\n        _this.bindPublicMethods('printDialog', 'reload');\n        console.log('Print data and redirect to home url after presetted time');\n        _this.$.ready(_this.printDialog);\n        return _this;\n    }\n\n    _createClass(View, [{\n        key: 'reload',\n        value: function reload() {\n            _window2.default.location.href = this.getUrl('/home/');\n        }\n    }, {\n        key: 'getUrl',\n        value: function getUrl(relativePath) {\n            var includepath = _window2.default.bo.zmsticketprinter.includepath;\n            return includepath + relativePath;\n        }\n    }, {\n        key: 'printDialog',\n        value: function printDialog() {\n            var _this2 = this;\n\n            document.title = \"Anmeldung an Warteschlange\";\n            _window2.default.print();\n\n            var beforePrint = function beforePrint() {\n                console.log('start printing');\n            };\n            var afterPrint = function afterPrint() {\n                var reloadTime = _window2.default.bo.zmsticketprinter.reloadInterval;\n                setTimeout(function () {\n                    _this2.reload();\n                }, reloadTime * 1000); // default is 30\n            };\n\n            if (_window2.default.matchMedia) {\n                var mediaQueryList = _window2.default.matchMedia('print');\n                mediaQueryList.addListener(function (mql) {\n                    if (mql.matches) {\n                        beforePrint();\n                    } else {\n                        afterPrint();\n                    }\n                });\n            }\n\n            _window2.default.onbeforeprint = beforePrint;\n            _window2.default.onafterprint = afterPrint;\n        }\n    }]);\n\n    return View;\n}(_baseview2.default);\n\nexports.default = View;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"../lib/baseview\":5}],13:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = {\n    'reloadInterval': 30,\n    'animationEnd': 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend',\n    'includeUrl': '/terminvereinbarung/ticketprinter'\n};\n\n},{}],14:[function(require,module,exports){\n/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n},{}]},{},[4])\n\n","/* global setInterval */\nimport BaseView from '../lib/baseview';\n\nclass View extends BaseView {\n\n    constructor (element) {\n        super(element);\n        this.bindPublicMethods('initClock', 'setInterval');\n        console.log(\"Found digital clock\");\n        this.$.ready(this.setInterval);\n    }\n\n    initClock () {\n        var time=new Date();\n        var hour=time.getHours();\n        var minute=time.getMinutes();\n        var second=time.getSeconds();\n        var temp=hour;\n        if (second%2) temp+=((minute<10)? \":0\" : \":\")+minute;\n        else temp+=((minute<10)? \":0\" : \" \")+minute;\n        this.$.text(temp);\n    }\n\n    setInterval () {\n\tsetInterval(this.initClock, 1000);\n    }\n}\n\nexport default View;\n","\nimport BaseView from '../lib/baseview';\nimport $ from \"jquery\";\n\nclass View extends BaseView {\n\n\n    constructor (element) {\n        super(element);        \n        this.source = this.$.attr('id');        \n        if (this.source == \"waitingNumberPad\") {\n            this.minNumberLength = 1;\n        } else {\n            this.minNumberLength = 10;\n        }\n        \n        this.bindPublicMethods('appendNumber', 'deleteNumber', 'clearNumbers', 'checkNumber');\n        console.log(\"Found keyboard-handheld\");\n        this.$.find('button.ziffer').on('click', this.appendNumber);\n        this.$.find('button#removelastdigit').on('click', this.deleteNumber);\n        this.$.find('button#removealldigitsphone').on('click', this.clearNumbers);\n        this.$numberInput = this.$.find('.nummerneingabe');\n    }\n\n    appendNumber (event) {\n\tlet $content = $(event.target).closest('button');\n        let number = $content.text();\n        this.$numberInput.val(this.$numberInput.val() + '' + number);\n        this.checkNumber();\n        return false;\n    }\n\n    deleteNumber () {\n        this.$numberInput.val(this.$numberInput.val().replace(/.$/, ''));\n        this.checkNumber();\n        return false;\n    }\n\n    clearNumbers () {\n        this.$numberInput.val('');\n        this.checkNumber();\n        return false;\n    }\n\n    checkNumber () {\n        //console.log(this.$numberInput.val());\n        var number = this.$numberInput.val();\n        if (this.source == 'waitingNumberPad') {\n            number = number.replace(/^0+/, '');\n        }        \n        number = number.replace(/[^\\d]/g, '');\n        var $button = this.$.find('.nachtrag');\n        if (number.length >= this.minNumberLength) {\n            $button.removeClass('disabled').attr('disabled', false);\n        } else {\n            if (!$button.hasClass('disabled')) {\n                $button.addClass('disabled').attr('disabled', true);\n            }\n        }\n        this.$numberInput.val(number);\n    }\n\n}\n\nexport default View;\n","import $ from \"jquery\";\n\nconst preventFormResubmit = (element) => {\n    const $form = $(element)\n\n    $form.on('submit', (ev) => {\n        if ($form.data('submitted') === true) {\n          // Previously submitted - don't submit again\n          ev.stopPropagation();\n          ev.preventDefault();\n        } else {\n          // Mark it so that the next submit can be ignored\n          $form.data('submitted', true);\n        }\n\n    })\n}\n\nexport default preventFormResubmit\n","// --------------------------------------------------------\n// ZMS Ticketprinter behavior\n// --------------------------------------------------------\n\nimport 'babel-polyfill';\n\n// Import base libs\nimport window from \"window\";\nimport $ from \"jquery\";\nimport settings from './settings';\n//import { forceHttps } from './lib/utils'\n\n// Import Views\nimport Reload from \"./page/main\";\nimport GetHash from \"./page/newhash\";\nimport PrintDialog from \"./page/process\";\nimport DigitalTime from \"./block/digital-clock\";\nimport NotificationKeyboardHandheldView from \"./block/notification-keyboard-handheld\";\nimport preventFormResubmit from './element/form/preventFormResubmit'\n\n// Bind jQuery on $ for testing\nwindow.$ = $;\nwindow.bo = {\n    \"zmsticketprinter\": settings\n};\n\n// Init Views\n$('#newhash').each(function() { new GetHash(this);});\n$('#index, #message, #exception').each(function() { new Reload(this);});\n$('#process').each(function() { new PrintDialog(this);});\n$('.digitaluhr').each(function() { new DigitalTime(this);});\n$('.smsbox').each(function() { new NotificationKeyboardHandheldView(this);});\n\n// prevent resubmits\n$('form').each(function() {\n    preventFormResubmit(this);\n})\n\n// Say hello\nconsole.log(\"Welcome to the ZMS Ticketprinter interface...\");\n\n// Force https protocol\n//forceHttps();\n","import $ from \"jquery\";\nimport ErrorHandler from './errorHandler';\nimport DialogHandler from './dialogHandler';\nimport { lightbox } from './utils';\n\nclass BaseView extends ErrorHandler {\n\n    constructor(element) {\n        super(element);\n        this.$main = $(element);\n    }\n\n    get $ () {\n        return this.$main;\n    }\n\n    static loadCallStatic(url, method = 'GET', data = null) {\n        const ajaxSettings = {\n            method\n        };\n        if (method === 'POST' || method === 'PUT') {\n            ajaxSettings.data = data;\n        }\n        return new Promise((resolve, reject) => {\n            $.ajax(url, ajaxSettings).done(responseData => {\n                resolve(responseData);\n            }).fail(err => {\n                console.log('XHR load error', url, err);\n                reject(err);\n            })\n        });\n    }\n\n    static loadDialogStatic (response, callback) {\n        const { lightboxContentElement, destroyLightbox } = lightbox(this.$main, () => {\n            destroyLightbox(),\n            callback()\n        });\n        new DialogHandler(lightboxContentElement, {\n            response: response,\n            callback: () => {\n                callback();\n                destroyLightbox();\n            }\n        })\n    }\n\n}\n\nexport default BaseView;\n","\n\nclass BindHandler {\n\n    bindPublicMethods (...methods) {\n        let object = this;\n        methods.forEach( function (method) {\n            if (typeof object[method] !== 'function') {\n                throw \"Method not found: \" + method;\n            }\n            object[method] = object[method].bind(object);\n        });\n    }\n}\n\nexport default BindHandler;\n","import $ from 'jquery';\n\nclass DialogHandler {\n\n    constructor (element, options) {\n        this.$main = $(element);\n        this.response = options.response;\n        this.callback = options.callback || (() => {});\n        this.parent = options.parent;\n        this.handleLightbox = options.handleLightbox || (() => {});\n        this.bindEvents();\n        this.render();\n    }\n\n    render() {\n        var content = $(this.response).filter('div.dialog');\n        if (content.length == 0) {\n            var message = $(this.response).find('div.dialog');\n            if (message.length > 0) {\n                content = message.get(0).outerHTML;\n            }\n        }\n        this.$main.html(content);\n    }\n\n    bindEvents() {\n        this.$main.off().on('click', '.button-ok', (ev) => {\n            ev.preventDefault();\n            ev.stopPropagation();\n            this.callback(ev);\n        }).on('click', '.button-abort', (ev) => {\n            ev.preventDefault();\n            ev.stopPropagation();\n            this.handleLightbox();\n        }).on('click', '.button-callback', (ev) => {\n            ev.preventDefault();\n            ev.stopPropagation();\n            var callback = $(ev.target).data('callback');\n            this.callback = this.parent[callback];\n            this.callback(ev);\n        });\n    }\n}\n\nexport default DialogHandler\n","\nimport BindHandler from \"./bindHandler\";\n\nclass ErrorHandler extends BindHandler {\n    constructor() {\n        super();\n        this._errorHandler = function() {};\n    }\n\n    get errorHandler () {\n        return this._errorHandler;\n    }\n    set errorHandler (callback) {\n        this._errorHandler = callback;\n    }\n}\n\nexport default ErrorHandler;\n","import $ from 'jquery'\nimport Baseview from './baseview';\nimport settings from '../settings';\n\nconst lightboxHtml = '<div class=\"lightbox\"><div class=\"lightbox__content\"></div></div>'\n\nexport const lightbox = (parentElement, onBackgroundClick) => {\n    const lightboxElement = $(lightboxHtml)\n\n    if (!parentElement) {\n        parentElement = $('body')\n        lightboxElement.addClass('fixed')\n    }\n\n    const destroyLightbox = () => {\n        lightboxElement.off()\n        lightboxElement.remove()\n    }\n\n    const lightboxContentElement = lightboxElement.find('.lightbox__content');\n\n    lightboxElement.on('click', (ev) => {\n        //console.log('background click', ev);\n        ev.stopPropagation()\n        ev.preventDefault()\n        destroyLightbox()\n        onBackgroundClick()\n    }).on('click', '.lightbox__content', (ev) => {\n        ev.stopPropagation();\n    })\n\n\n    if ($(parentElement).find('.lightbox').length) {\n        $(parentElement).find('.lightbox').remove();\n    }\n    $(parentElement).append(lightboxElement)\n\n    return {\n        lightboxContentElement,\n        destroyLightbox\n    }\n}\n\nexport const forceHttps = () => {\n    if (document.location.protocol !== \"https:\") {\n        Baseview.loadCallStatic(`${settings.includeUrl}/dialog/?template=force_https`).then((response) => {\n            Baseview.loadDialogStatic(response, () => {\n                document.location.href = \"https://\" + document.location.href.substring(document.location.protocol.length, document.location.href.length);\n            });\n        });\n    }\n\n}\n","/* global setInterval */\nimport BaseView from '../lib/baseview';\nimport window from \"window\";\n\nclass View extends BaseView {\n\n    constructor (element) {\n        super(element);\n        this.bindPublicMethods('setInterval', 'reloadPage');\n        console.log('Redirect to home url every 30 seconds');\n        this.$.ready(this.setInterval);\n    }\n\n    reloadPage () {\n        window.location.href = this.getUrl('/home/');\n    }\n\n    setInterval () {\n        var reloadTime = window.bo.zmsticketprinter.reloadInterval;\n        setInterval(this.reloadPage, reloadTime * 1000);\n    }\n\n    getUrl (relativePath) {\n        let includepath = window.bo.zmsticketprinter.includepath;\n        return includepath + relativePath;\n    }\n}\n\nexport default View;\n","/* global setTimeout */\nimport BaseView from '../lib/baseview';\nimport window from \"window\";\nimport cookie from \"js-cookie\";\nimport $ from \"jquery\";\n\nclass View extends BaseView {\n\n    constructor (element) {\n        super(element);\n        this.bindPublicMethods('load','setTimeout','getUrl','reloadPage');\n        $(window).on('load', this.load);\n    }\n\n    load () {\n        cookie.remove(\"Ticketprinter\", { secure: true });\n        this.setTimeout();\n    }\n\n    reloadPage () {\n        window.location.href = this.getUrl('/home/');\n    }\n\n    setTimeout () {\n        setTimeout(this.reloadPage, 5000);\n    }\n\n    getUrl (relativePath) {\n        let includepath = window.bo.zmsticketprinter.includepath;\n        return includepath + relativePath;\n    }\n}\n\nexport default View;\n","/* global setTimeout */\nimport BaseView from '../lib/baseview';\nimport window from \"window\";\n\nclass View extends BaseView {\n\n    constructor (element) {\n        super(element);\n        this.bindPublicMethods('printDialog', 'reload');\n        console.log('Print data and redirect to home url after presetted time');\n        this.$.ready(this.printDialog);\n    }\n\n    reload () {\n        window.location.href = this.getUrl('/home/');\n    }\n\n    getUrl (relativePath) {\n        let includepath = window.bo.zmsticketprinter.includepath;\n        return includepath + relativePath;\n    }\n\n    printDialog () {\n        document.title = \"Anmeldung an Warteschlange\";\n        window.print();\n\n        var beforePrint = () => {\n            console.log('start printing');\n        };\n        var afterPrint = () => {\n            let reloadTime = window.bo.zmsticketprinter.reloadInterval;\n            setTimeout(() => {\n                this.reload();\n            }, reloadTime * 1000); // default is 30\n        };\n\n        if (window.matchMedia) {\n            var mediaQueryList = window.matchMedia('print');\n            mediaQueryList.addListener(function(mql) {\n                if (mql.matches) {\n                    beforePrint();\n                } else {\n                    afterPrint();\n                }\n            });\n        }\n\n        window.onbeforeprint = beforePrint;\n        window.onafterprint = afterPrint;\n    }\n}\n\nexport default View;\n","export default {\n    'reloadInterval': 30,\n    'animationEnd': 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend',\n    'includeUrl': '/terminvereinbarung/ticketprinter'\n};\n","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n"]}