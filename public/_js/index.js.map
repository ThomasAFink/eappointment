{"version":3,"sources":["node_modules/browser-pack/_prelude.js","js/block/digital-clock.js","js/block/notification-keyboard-handheld.js","js/element/form/preventFormResubmit.js","js/index.js","js/lib/baseview.js","js/lib/bindHandler.js","js/lib/dialogHandler.js","js/lib/errorHandler.js","js/lib/utils.js","js/page/main.js","js/page/newhash.js","js/page/process.js","js/settings.js","node_modules/js-cookie/src/js.cookie.js"],"names":[],"mappings":"AAAA;;;;;;;;;ACCA;;;;;;;;;;+eADA;;;IAGM,I;;;AAEF,kBAAa,OAAb,EAAsB;AAAA;;AAAA,gHACZ,OADY;;AAElB,cAAK,iBAAL,CAAuB,WAAvB,EAAoC,aAApC;AACA,gBAAQ,GAAR,CAAY,qBAAZ;AACA,cAAK,CAAL,CAAO,KAAP,CAAa,MAAK,WAAlB;AAJkB;AAKrB;;;;oCAEY;AACT,gBAAI,OAAK,IAAI,IAAJ,EAAT;AACA,gBAAI,OAAK,KAAK,QAAL,EAAT;AACA,gBAAI,SAAO,KAAK,UAAL,EAAX;AACA,gBAAI,SAAO,KAAK,UAAL,EAAX;AACA,gBAAI,OAAK,IAAT;AACA,gBAAI,SAAO,CAAX,EAAc,QAAM,CAAE,SAAO,EAAR,GAAa,IAAb,GAAoB,GAArB,IAA0B,MAAhC,CAAd,KACK,QAAM,CAAE,SAAO,EAAR,GAAa,IAAb,GAAoB,GAArB,IAA0B,MAAhC;AACL,iBAAK,CAAL,CAAO,IAAP,CAAY,IAAZ;AACH;;;;;;;;;;;;;sBAEc;AAClB,wBAAY,KAAK,SAAjB,EAA4B,IAA5B;AACI,S;;;;;;kBAGU,I;;;;;;;;;;;AC3Bf;;;;AACA;;;;;;;;;;;;IAEM,I;;;AAGF,kBAAa,OAAb,EAAsB;AAAA;;AAAA,gHACZ,OADY;;AAElB,cAAK,MAAL,GAAc,MAAK,CAAL,CAAO,IAAP,CAAY,IAAZ,CAAd;AACA,YAAI,MAAK,MAAL,IAAe,kBAAnB,EAAuC;AACnC,kBAAK,eAAL,GAAuB,CAAvB;AACH,SAFD,MAEO;AACH,kBAAK,eAAL,GAAuB,EAAvB;AACH;;AAED,cAAK,iBAAL,CAAuB,cAAvB,EAAuC,cAAvC,EAAuD,cAAvD,EAAuE,aAAvE;AACA,gBAAQ,GAAR,CAAY,yBAAZ;AACA,cAAK,CAAL,CAAO,IAAP,CAAY,eAAZ,EAA6B,EAA7B,CAAgC,OAAhC,EAAyC,MAAK,YAA9C;AACA,cAAK,CAAL,CAAO,IAAP,CAAY,wBAAZ,EAAsC,EAAtC,CAAyC,OAAzC,EAAkD,MAAK,YAAvD;AACA,cAAK,CAAL,CAAO,IAAP,CAAY,6BAAZ,EAA2C,EAA3C,CAA8C,OAA9C,EAAuD,MAAK,YAA5D;AACA,cAAK,YAAL,GAAoB,MAAK,CAAL,CAAO,IAAP,CAAY,iBAAZ,CAApB;AAdkB;AAerB;;;;qCAEa,K,EAAO;AACxB,gBAAI,WAAW,sBAAE,MAAM,MAAR,EAAgB,OAAhB,CAAwB,QAAxB,CAAf;AACO,gBAAI,SAAS,SAAS,IAAT,EAAb;AACA,iBAAK,YAAL,CAAkB,GAAlB,CAAsB,KAAK,YAAL,CAAkB,GAAlB,KAA0B,EAA1B,GAA+B,MAArD;AACA,iBAAK,WAAL;AACA,mBAAO,KAAP;AACH;;;uCAEe;AACZ,iBAAK,YAAL,CAAkB,GAAlB,CAAsB,KAAK,YAAL,CAAkB,GAAlB,GAAwB,OAAxB,CAAgC,IAAhC,EAAsC,EAAtC,CAAtB;AACA,iBAAK,WAAL;AACA,mBAAO,KAAP;AACH;;;uCAEe;AACZ,iBAAK,YAAL,CAAkB,GAAlB,CAAsB,EAAtB;AACA,iBAAK,WAAL;AACA,mBAAO,KAAP;AACH;;;sCAEc;AACX;AACA,gBAAI,SAAS,KAAK,YAAL,CAAkB,GAAlB,EAAb;AACA,gBAAI,KAAK,MAAL,IAAe,kBAAnB,EAAuC;AACnC,yBAAS,OAAO,OAAP,CAAe,KAAf,EAAsB,EAAtB,CAAT;AACH;AACD,qBAAS,OAAO,OAAP,CAAe,QAAf,EAAyB,EAAzB,CAAT;AACA,gBAAI,UAAU,KAAK,CAAL,CAAO,IAAP,CAAY,WAAZ,CAAd;AACA,gBAAI,OAAO,MAAP,IAAiB,KAAK,eAA1B,EAA2C;AACvC,wBAAQ,WAAR,CAAoB,UAApB,EAAgC,IAAhC,CAAqC,UAArC,EAAiD,KAAjD;AACH,aAFD,MAEO;AACH,oBAAI,CAAC,QAAQ,QAAR,CAAiB,UAAjB,CAAL,EAAmC;AAC/B,4BAAQ,QAAR,CAAiB,UAAjB,EAA6B,IAA7B,CAAkC,UAAlC,EAA8C,IAA9C;AACH;AACJ;AACD,iBAAK,YAAL,CAAkB,GAAlB,CAAsB,MAAtB;AACH;;;;;;kBAIU,I;;;;;;;;;AChEf;;;;;;AAEA,IAAM,sBAAsB,SAAtB,mBAAsB,CAAC,OAAD,EAAa;AACrC,MAAM,QAAQ,sBAAE,OAAF,CAAd;;AAEA,QAAM,EAAN,CAAS,QAAT,EAAmB,UAAC,EAAD,EAAQ;AACvB,QAAI,MAAM,IAAN,CAAW,WAAX,MAA4B,IAAhC,EAAsC;AACpC;AACA,SAAG,eAAH;AACA,SAAG,cAAH;AACD,KAJD,MAIO;AACL;AACA,YAAM,IAAN,CAAW,WAAX,EAAwB,IAAxB;AACD;AAEJ,GAVD;AAWH,CAdD;;kBAgBe,mB;;;;;;ACdf;;AAGA;;;;AACA;;;;AACA;;;;AACA;;AAGA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;;;AARA;;;AANA;AAeA,iBAAO,CAAP,oB,CArBA;AACA;AACA;;AAoBA,iBAAO,EAAP,GAAY;AACR;AADQ,CAAZ;;AAIA;AACA,sBAAE,UAAF,EAAc,IAAd,CAAmB,YAAW;AAAE,0BAAY,IAAZ;AAAmB,CAAnD;AACA,sBAAE,8BAAF,EAAkC,IAAlC,CAAuC,YAAW;AAAE,uBAAW,IAAX;AAAkB,CAAtE;AACA,sBAAE,UAAF,EAAc,IAAd,CAAmB,YAAW;AAAE,0BAAgB,IAAhB;AAAuB,CAAvD;AACA,sBAAE,aAAF,EAAiB,IAAjB,CAAsB,YAAW;AAAE,+BAAgB,IAAhB;AAAuB,CAA1D;AACA,sBAAE,SAAF,EAAa,IAAb,CAAkB,YAAW;AAAE,+CAAqC,IAArC;AAA4C,CAA3E;;AAEA;AACA,sBAAE,MAAF,EAAU,IAAV,CAAe,YAAW;AACtB,uCAAoB,IAApB;AACH,CAFD;;AAIA;AACA,QAAQ,GAAR,CAAY,+CAAZ;;AAEA;AACA;;;;;;;;;;;;;AC1CA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;IAEM,Q;;;AAEF,sBAAY,OAAZ,EAAqB;AAAA;;AAAA,wHACX,OADW;;AAEjB,cAAK,KAAL,GAAa,sBAAE,OAAF,CAAb;AAFiB;AAGpB;;;;4BAEQ;AACL,mBAAO,KAAK,KAAZ;AACH;;;uCAEqB,G,EAAkC;AAAA,gBAA7B,MAA6B,uEAApB,KAAoB;AAAA,gBAAb,IAAa,uEAAN,IAAM;;AACpD,gBAAM,eAAe;AACjB;AADiB,aAArB;AAGA,gBAAI,WAAW,MAAX,IAAqB,WAAW,KAApC,EAA2C;AACvC,6BAAa,IAAb,GAAoB,IAApB;AACH;AACD,mBAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACpC,iCAAE,IAAF,CAAO,GAAP,EAAY,YAAZ,EAA0B,IAA1B,CAA+B,wBAAgB;AAC3C,4BAAQ,YAAR;AACH,iBAFD,EAEG,IAFH,CAEQ,eAAO;AACX,4BAAQ,GAAR,CAAY,gBAAZ,EAA8B,GAA9B,EAAmC,GAAnC;AACA,2BAAO,GAAP;AACH,iBALD;AAMH,aAPM,CAAP;AAQH;;;yCAEwB,Q,EAAU,S,EAAU;AAAA,4BACW,qBAAS,KAAK,KAAd,EAAqB,YAAM;AAC3E,mCACA,WADA;AAEH,aAHmD,CADX;AAAA,gBACjC,sBADiC,aACjC,sBADiC;AAAA,gBACT,eADS,aACT,eADS;;AAKzC,wCAAkB,sBAAlB,EAA0C;AACtC,0BAAU,QAD4B;AAEtC,0BAAU,oBAAM;AACZ;AACA;AACH;AALqC,aAA1C;AAOH;;;;;;kBAIU,Q;;;;;;;;;;;;;IC/CT,W;;;;;;;4CAE6B;AAC3B,gBAAI,SAAS,IAAb;;AAD2B,8CAAT,OAAS;AAAT,uBAAS;AAAA;;AAE3B,oBAAQ,OAAR,CAAiB,UAAU,MAAV,EAAkB;AAC/B,oBAAI,OAAO,OAAO,MAAP,CAAP,KAA0B,UAA9B,EAA0C;AACtC,0BAAM,uBAAuB,MAA7B;AACH;AACD,uBAAO,MAAP,IAAiB,OAAO,MAAP,EAAe,IAAf,CAAoB,MAApB,CAAjB;AACH,aALD;AAMH;;;;;;kBAGU,W;;;;;;;;;;;ACff;;;;;;;;IAEM,a;AAEF,2BAAa,OAAb,EAAsB,OAAtB,EAA+B;AAAA;;AAC3B,aAAK,KAAL,GAAa,sBAAE,OAAF,CAAb;AACA,aAAK,QAAL,GAAgB,QAAQ,QAAxB;AACA,aAAK,QAAL,GAAgB,QAAQ,QAAR,IAAqB,YAAM,CAAE,CAA7C;AACA,aAAK,MAAL,GAAc,QAAQ,MAAtB;AACA,aAAK,cAAL,GAAsB,QAAQ,cAAR,IAA2B,YAAM,CAAE,CAAzD;AACA,aAAK,UAAL;AACA,aAAK,MAAL;AACH;;;;iCAEQ;AACL,gBAAI,UAAU,sBAAE,KAAK,QAAP,EAAiB,MAAjB,CAAwB,YAAxB,CAAd;AACA,gBAAI,QAAQ,MAAR,IAAkB,CAAtB,EAAyB;AACrB,oBAAI,UAAU,sBAAE,KAAK,QAAP,EAAiB,IAAjB,CAAsB,YAAtB,CAAd;AACA,oBAAI,QAAQ,MAAR,GAAiB,CAArB,EAAwB;AACpB,8BAAU,QAAQ,GAAR,CAAY,CAAZ,EAAe,SAAzB;AACH;AACJ;AACD,iBAAK,KAAL,CAAW,IAAX,CAAgB,OAAhB;AACH;;;qCAEY;AAAA;;AACT,iBAAK,KAAL,CAAW,GAAX,GAAiB,EAAjB,CAAoB,OAApB,EAA6B,YAA7B,EAA2C,UAAC,EAAD,EAAQ;AAC/C,mBAAG,cAAH;AACA,mBAAG,eAAH;AACA,sBAAK,QAAL,CAAc,EAAd;AACH,aAJD,EAIG,EAJH,CAIM,OAJN,EAIe,eAJf,EAIgC,UAAC,EAAD,EAAQ;AACpC,mBAAG,cAAH;AACA,mBAAG,eAAH;AACA,sBAAK,cAAL;AACH,aARD,EAQG,EARH,CAQM,OARN,EAQe,kBARf,EAQmC,UAAC,EAAD,EAAQ;AACvC,mBAAG,cAAH;AACA,mBAAG,eAAH;AACA,oBAAI,WAAW,sBAAE,GAAG,MAAL,EAAa,IAAb,CAAkB,UAAlB,CAAf;AACA,sBAAK,QAAL,GAAgB,MAAK,MAAL,CAAY,QAAZ,CAAhB;AACA,sBAAK,QAAL,CAAc,EAAd;AACH,aAdD;AAeH;;;;;;kBAGU,a;;;;;;;;;;;AC3Cf;;;;;;;;;;;;IAEM,Y;;;AACF,4BAAc;AAAA;;AAAA;;AAEV,cAAK,aAAL,GAAqB,YAAW,CAAE,CAAlC;AAFU;AAGb;;;;4BAEmB;AAChB,mBAAO,KAAK,aAAZ;AACH,S;0BACiB,Q,EAAU;AACxB,iBAAK,aAAL,GAAqB,QAArB;AACH;;;;;;kBAGU,Y;;;;;;;;;;ACjBf;;;;AACA;;;;AACA;;;;;;AAEA,IAAM,eAAe,mEAArB;;AAEO,IAAM,8BAAW,SAAX,QAAW,CAAC,aAAD,EAAgB,iBAAhB,EAAsC;AAC1D,QAAM,kBAAkB,sBAAE,YAAF,CAAxB;;AAEA,QAAI,CAAC,aAAL,EAAoB;AAChB,wBAAgB,sBAAE,MAAF,CAAhB;AACA,wBAAgB,QAAhB,CAAyB,OAAzB;AACH;;AAED,QAAM,kBAAkB,SAAlB,eAAkB,GAAM;AAC1B,wBAAgB,GAAhB;AACA,wBAAgB,MAAhB;AACH,KAHD;;AAKA,QAAM,yBAAyB,gBAAgB,IAAhB,CAAqB,oBAArB,CAA/B;;AAEA,oBAAgB,EAAhB,CAAmB,OAAnB,EAA4B,UAAC,EAAD,EAAQ;AAChC;AACA,WAAG,eAAH;AACA,WAAG,cAAH;AACA;AACA;AACH,KAND,EAMG,EANH,CAMM,OANN,EAMe,oBANf,EAMqC,UAAC,EAAD,EAAQ;AACzC,WAAG,eAAH;AACH,KARD;;AAWA,QAAI,sBAAE,aAAF,EAAiB,IAAjB,CAAsB,WAAtB,EAAmC,MAAvC,EAA+C;AAC3C,8BAAE,aAAF,EAAiB,IAAjB,CAAsB,WAAtB,EAAmC,MAAnC;AACH;AACD,0BAAE,aAAF,EAAiB,MAAjB,CAAwB,eAAxB;;AAEA,WAAO;AACH,sDADG;AAEH;AAFG,KAAP;AAIH,CAnCM;;AAqCA,IAAM,kCAAa,SAAb,UAAa,GAAM;AAC5B,QAAI,SAAS,QAAT,CAAkB,QAAlB,KAA+B,QAAnC,EAA6C;AACzC,2BAAS,cAAT,CAA2B,mBAAS,UAApC,oCAA+E,IAA/E,CAAoF,UAAC,QAAD,EAAc;AAC9F,+BAAS,gBAAT,CAA0B,QAA1B,EAAoC,YAAM;AACtC,yBAAS,QAAT,CAAkB,IAAlB,GAAyB,aAAa,SAAS,QAAT,CAAkB,IAAlB,CAAuB,SAAvB,CAAiC,SAAS,QAAT,CAAkB,QAAlB,CAA2B,MAA5D,EAAoE,SAAS,QAAT,CAAkB,IAAlB,CAAuB,MAA3F,CAAtC;AACH,aAFD;AAGH,SAJD;AAKH;AAEJ,CATM;;;;;;;;;;;;AC1CP;;;;AACA;;;;;;;;;;+eAFA;;;IAIM,I;;;AAEF,kBAAa,OAAb,EAAsB;AAAA;;AAAA,gHACZ,OADY;;AAElB,cAAK,iBAAL,CAAuB,aAAvB,EAAsC,YAAtC;AACA,gBAAQ,GAAR,CAAY,uCAAZ;AACA,cAAK,CAAL,CAAO,KAAP,CAAa,MAAK,WAAlB;AAJkB;AAKrB;;;;qCAEa;AACV,6BAAO,QAAP,CAAgB,IAAhB,GAAuB,KAAK,MAAL,CAAY,QAAZ,CAAvB;AACH;;;;;;;;;;;;;sBAEc;AACX,gBAAI,aAAa,iBAAO,EAAP,CAAU,gBAAV,CAA2B,cAA5C;AACA,wBAAY,KAAK,UAAjB,EAA6B,aAAa,IAA1C;AACH,S;;;+BAEO,Y,EAAc;AAClB,gBAAI,cAAc,iBAAO,EAAP,CAAU,gBAAV,CAA2B,WAA7C;AACA,mBAAO,cAAc,YAArB;AACH;;;;;;kBAGU,I;;;;;;;;;;;;;;AC3Bf;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;+eAJA;;;IAMM,I;;;AAEF,kBAAa,OAAb,EAAsB;AAAA;;AAAA,gHACZ,OADY;;AAElB,cAAK,iBAAL,CAAuB,MAAvB,EAA8B,YAA9B,EAA2C,QAA3C,EAAoD,YAApD;AACA,gDAAU,EAAV,CAAa,MAAb,EAAqB,MAAK,IAA1B;AAHkB;AAIrB;;;;+BAEO;AACJ,+BAAO,MAAP,CAAc,eAAd,EAA+B,EAAE,QAAQ,IAAV,EAA/B;AACA,iBAAK,UAAL;AACH;;;qCAEa;AACV,6BAAO,QAAP,CAAgB,IAAhB,GAAuB,KAAK,MAAL,CAAY,QAAZ,CAAvB;AACH;;;;;;;;;;;;;sBAEa;AACV,uBAAW,KAAK,UAAhB,EAA4B,IAA5B;AACH,S;;;+BAEO,Y,EAAc;AAClB,gBAAI,cAAc,iBAAO,EAAP,CAAU,gBAAV,CAA2B,WAA7C;AACA,mBAAO,cAAc,YAArB;AACH;;;;;;kBAGU,I;;;;;;;;;;;;;;AChCf;;;;AACA;;;;;;;;;;+eAFA;;;IAIM,I;;;AAEF,kBAAa,OAAb,EAAsB;AAAA;;AAAA,gHACZ,OADY;;AAElB,cAAK,iBAAL,CAAuB,aAAvB,EAAsC,QAAtC;AACA,gBAAQ,GAAR,CAAY,0DAAZ;AACA,cAAK,CAAL,CAAO,KAAP,CAAa,MAAK,WAAlB;AAJkB;AAKrB;;;;iCAES;AACN,6BAAO,QAAP,CAAgB,IAAhB,GAAuB,KAAK,MAAL,CAAY,QAAZ,CAAvB;AACH;;;+BAEO,Y,EAAc;AAClB,gBAAI,cAAc,iBAAO,EAAP,CAAU,gBAAV,CAA2B,WAA7C;AACA,mBAAO,cAAc,YAArB;AACH;;;sCAEc;AAAA;;AACX,qBAAS,KAAT,GAAiB,4BAAjB;AACA,6BAAO,KAAP;;AAEA,gBAAI,cAAc,SAAd,WAAc,GAAM;AACpB,wBAAQ,GAAR,CAAY,gBAAZ;AACH,aAFD;AAGA,gBAAI,aAAa,SAAb,UAAa,GAAM;AACnB,oBAAI,aAAa,iBAAO,EAAP,CAAU,gBAAV,CAA2B,cAA5C;AACA,2BAAW,YAAM;AACb,2BAAK,MAAL;AACH,iBAFD,EAEG,aAAa,IAFhB,EAFmB,CAII;AAC1B,aALD;;AAOA,gBAAI,iBAAO,UAAX,EAAuB;AACnB,oBAAI,iBAAiB,iBAAO,UAAP,CAAkB,OAAlB,CAArB;AACA,+BAAe,WAAf,CAA2B,UAAS,GAAT,EAAc;AACrC,wBAAI,IAAI,OAAR,EAAiB;AACb;AACH,qBAFD,MAEO;AACH;AACH;AACJ,iBAND;AAOH;;AAED,6BAAO,aAAP,GAAuB,WAAvB;AACA,6BAAO,YAAP,GAAsB,UAAtB;AACH;;;;;;kBAGU,I;;;;;;;;;;kBCpDA;AACX,sBAAkB,EADP;AAEX,oBAAgB,8EAFL;AAGX,kBAAc;AAHH,C;;;ACAf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/* global setInterval */\nimport BaseView from '../lib/baseview';\n\nclass View extends BaseView {\n\n    constructor (element) {\n        super(element);\n        this.bindPublicMethods('initClock', 'setInterval');\n        console.log(\"Found digital clock\");\n        this.$.ready(this.setInterval);\n    }\n\n    initClock () {\n        var time=new Date();\n        var hour=time.getHours();\n        var minute=time.getMinutes();\n        var second=time.getSeconds();\n        var temp=hour;\n        if (second%2) temp+=((minute<10)? \":0\" : \":\")+minute;\n        else temp+=((minute<10)? \":0\" : \" \")+minute;\n        this.$.text(temp);\n    }\n\n    setInterval () {\n\tsetInterval(this.initClock, 1000);\n    }\n}\n\nexport default View;\n","\nimport BaseView from '../lib/baseview';\nimport $ from \"jquery\";\n\nclass View extends BaseView {\n\n\n    constructor (element) {\n        super(element);        \n        this.source = this.$.attr('id');        \n        if (this.source == \"waitingNumberPad\") {\n            this.minNumberLength = 1;\n        } else {\n            this.minNumberLength = 10;\n        }\n        \n        this.bindPublicMethods('appendNumber', 'deleteNumber', 'clearNumbers', 'checkNumber');\n        console.log(\"Found keyboard-handheld\");\n        this.$.find('button.ziffer').on('click', this.appendNumber);\n        this.$.find('button#removelastdigit').on('click', this.deleteNumber);\n        this.$.find('button#removealldigitsphone').on('click', this.clearNumbers);\n        this.$numberInput = this.$.find('.nummerneingabe');\n    }\n\n    appendNumber (event) {\n\tlet $content = $(event.target).closest('button');\n        let number = $content.text();\n        this.$numberInput.val(this.$numberInput.val() + '' + number);\n        this.checkNumber();\n        return false;\n    }\n\n    deleteNumber () {\n        this.$numberInput.val(this.$numberInput.val().replace(/.$/, ''));\n        this.checkNumber();\n        return false;\n    }\n\n    clearNumbers () {\n        this.$numberInput.val('');\n        this.checkNumber();\n        return false;\n    }\n\n    checkNumber () {\n        //console.log(this.$numberInput.val());\n        var number = this.$numberInput.val();\n        if (this.source == 'waitingNumberPad') {\n            number = number.replace(/^0+/, '');\n        }        \n        number = number.replace(/[^\\d]/g, '');\n        var $button = this.$.find('.nachtrag');\n        if (number.length >= this.minNumberLength) {\n            $button.removeClass('disabled').attr('disabled', false);\n        } else {\n            if (!$button.hasClass('disabled')) {\n                $button.addClass('disabled').attr('disabled', true);\n            }\n        }\n        this.$numberInput.val(number);\n    }\n\n}\n\nexport default View;\n","import $ from \"jquery\";\n\nconst preventFormResubmit = (element) => {\n    const $form = $(element)\n\n    $form.on('submit', (ev) => {\n        if ($form.data('submitted') === true) {\n          // Previously submitted - don't submit again\n          ev.stopPropagation();\n          ev.preventDefault();\n        } else {\n          // Mark it so that the next submit can be ignored\n          $form.data('submitted', true);\n        }\n\n    })\n}\n\nexport default preventFormResubmit\n","// --------------------------------------------------------\n// ZMS Ticketprinter behavior\n// --------------------------------------------------------\n\nimport 'babel-polyfill';\n\n// Import base libs\nimport window from \"window\";\nimport $ from \"jquery\";\nimport settings from './settings';\nimport { forceHttps } from './lib/utils'\n\n// Import Views\nimport Reload from \"./page/main\";\nimport GetHash from \"./page/newhash\";\nimport PrintDialog from \"./page/process\";\nimport DigitalTime from \"./block/digital-clock\";\nimport NotificationKeyboardHandheldView from \"./block/notification-keyboard-handheld\";\nimport preventFormResubmit from './element/form/preventFormResubmit'\n\n// Bind jQuery on $ for testing\nwindow.$ = $;\nwindow.bo = {\n    \"zmsticketprinter\": settings\n};\n\n// Init Views\n$('#newhash').each(function() { new GetHash(this);});\n$('#index, #message, #exception').each(function() { new Reload(this);});\n$('#process').each(function() { new PrintDialog(this);});\n$('.digitaluhr').each(function() { new DigitalTime(this);});\n$('.smsbox').each(function() { new NotificationKeyboardHandheldView(this);});\n\n// prevent resubmits\n$('form').each(function() {\n    preventFormResubmit(this);\n})\n\n// Say hello\nconsole.log(\"Welcome to the ZMS Ticketprinter interface...\");\n\n// Force https protocol\nforceHttps();\n","import $ from \"jquery\";\nimport ErrorHandler from './errorHandler';\nimport DialogHandler from './dialogHandler';\nimport { lightbox } from './utils';\n\nclass BaseView extends ErrorHandler {\n\n    constructor(element) {\n        super(element);\n        this.$main = $(element);\n    }\n\n    get $ () {\n        return this.$main;\n    }\n\n    static loadCallStatic(url, method = 'GET', data = null) {\n        const ajaxSettings = {\n            method\n        };\n        if (method === 'POST' || method === 'PUT') {\n            ajaxSettings.data = data;\n        }\n        return new Promise((resolve, reject) => {\n            $.ajax(url, ajaxSettings).done(responseData => {\n                resolve(responseData);\n            }).fail(err => {\n                console.log('XHR load error', url, err);\n                reject(err);\n            })\n        });\n    }\n\n    static loadDialogStatic (response, callback) {\n        const { lightboxContentElement, destroyLightbox } = lightbox(this.$main, () => {\n            destroyLightbox(),\n            callback()\n        });\n        new DialogHandler(lightboxContentElement, {\n            response: response,\n            callback: () => {\n                callback();\n                destroyLightbox();\n            }\n        })\n    }\n\n}\n\nexport default BaseView;\n","\n\nclass BindHandler {\n\n    bindPublicMethods (...methods) {\n        let object = this;\n        methods.forEach( function (method) {\n            if (typeof object[method] !== 'function') {\n                throw \"Method not found: \" + method;\n            }\n            object[method] = object[method].bind(object);\n        });\n    }\n}\n\nexport default BindHandler;\n","import $ from 'jquery';\n\nclass DialogHandler {\n\n    constructor (element, options) {\n        this.$main = $(element);\n        this.response = options.response;\n        this.callback = options.callback || (() => {});\n        this.parent = options.parent;\n        this.handleLightbox = options.handleLightbox || (() => {});\n        this.bindEvents();\n        this.render();\n    }\n\n    render() {\n        var content = $(this.response).filter('div.dialog');\n        if (content.length == 0) {\n            var message = $(this.response).find('div.dialog');\n            if (message.length > 0) {\n                content = message.get(0).outerHTML;\n            }\n        }\n        this.$main.html(content);\n    }\n\n    bindEvents() {\n        this.$main.off().on('click', '.button-ok', (ev) => {\n            ev.preventDefault();\n            ev.stopPropagation();\n            this.callback(ev);\n        }).on('click', '.button-abort', (ev) => {\n            ev.preventDefault();\n            ev.stopPropagation();\n            this.handleLightbox();\n        }).on('click', '.button-callback', (ev) => {\n            ev.preventDefault();\n            ev.stopPropagation();\n            var callback = $(ev.target).data('callback');\n            this.callback = this.parent[callback];\n            this.callback(ev);\n        });\n    }\n}\n\nexport default DialogHandler\n","\nimport BindHandler from \"./bindHandler\";\n\nclass ErrorHandler extends BindHandler {\n    constructor() {\n        super();\n        this._errorHandler = function() {};\n    }\n\n    get errorHandler () {\n        return this._errorHandler;\n    }\n    set errorHandler (callback) {\n        this._errorHandler = callback;\n    }\n}\n\nexport default ErrorHandler;\n","import $ from 'jquery'\nimport Baseview from './baseview';\nimport settings from '../settings';\n\nconst lightboxHtml = '<div class=\"lightbox\"><div class=\"lightbox__content\"></div></div>'\n\nexport const lightbox = (parentElement, onBackgroundClick) => {\n    const lightboxElement = $(lightboxHtml)\n\n    if (!parentElement) {\n        parentElement = $('body')\n        lightboxElement.addClass('fixed')\n    }\n\n    const destroyLightbox = () => {\n        lightboxElement.off()\n        lightboxElement.remove()\n    }\n\n    const lightboxContentElement = lightboxElement.find('.lightbox__content');\n\n    lightboxElement.on('click', (ev) => {\n        //console.log('background click', ev);\n        ev.stopPropagation()\n        ev.preventDefault()\n        destroyLightbox()\n        onBackgroundClick()\n    }).on('click', '.lightbox__content', (ev) => {\n        ev.stopPropagation();\n    })\n\n\n    if ($(parentElement).find('.lightbox').length) {\n        $(parentElement).find('.lightbox').remove();\n    }\n    $(parentElement).append(lightboxElement)\n\n    return {\n        lightboxContentElement,\n        destroyLightbox\n    }\n}\n\nexport const forceHttps = () => {\n    if (document.location.protocol !== \"https:\") {\n        Baseview.loadCallStatic(`${settings.includeUrl}/dialog/?template=force_https`).then((response) => {\n            Baseview.loadDialogStatic(response, () => {\n                document.location.href = \"https://\" + document.location.href.substring(document.location.protocol.length, document.location.href.length);\n            });\n        });\n    }\n\n}\n","/* global setInterval */\nimport BaseView from '../lib/baseview';\nimport window from \"window\";\n\nclass View extends BaseView {\n\n    constructor (element) {\n        super(element);\n        this.bindPublicMethods('setInterval', 'reloadPage');\n        console.log('Redirect to home url every 30 seconds');\n        this.$.ready(this.setInterval);\n    }\n\n    reloadPage () {\n        window.location.href = this.getUrl('/home/');\n    }\n\n    setInterval () {\n        var reloadTime = window.bo.zmsticketprinter.reloadInterval;\n        setInterval(this.reloadPage, reloadTime * 1000);\n    }\n\n    getUrl (relativePath) {\n        let includepath = window.bo.zmsticketprinter.includepath;\n        return includepath + relativePath;\n    }\n}\n\nexport default View;\n","/* global setTimeout */\nimport BaseView from '../lib/baseview';\nimport window from \"window\";\nimport cookie from \"js-cookie\";\nimport $ from \"jquery\";\n\nclass View extends BaseView {\n\n    constructor (element) {\n        super(element);\n        this.bindPublicMethods('load','setTimeout','getUrl','reloadPage');\n        $(window).on('load', this.load);\n    }\n\n    load () {\n        cookie.remove(\"Ticketprinter\", { secure: true });\n        this.setTimeout();\n    }\n\n    reloadPage () {\n        window.location.href = this.getUrl('/home/');\n    }\n\n    setTimeout () {\n        setTimeout(this.reloadPage, 5000);\n    }\n\n    getUrl (relativePath) {\n        let includepath = window.bo.zmsticketprinter.includepath;\n        return includepath + relativePath;\n    }\n}\n\nexport default View;\n","/* global setTimeout */\nimport BaseView from '../lib/baseview';\nimport window from \"window\";\n\nclass View extends BaseView {\n\n    constructor (element) {\n        super(element);\n        this.bindPublicMethods('printDialog', 'reload');\n        console.log('Print data and redirect to home url after presetted time');\n        this.$.ready(this.printDialog);\n    }\n\n    reload () {\n        window.location.href = this.getUrl('/home/');\n    }\n\n    getUrl (relativePath) {\n        let includepath = window.bo.zmsticketprinter.includepath;\n        return includepath + relativePath;\n    }\n\n    printDialog () {\n        document.title = \"Anmeldung an Warteschlange\";\n        window.print();\n\n        var beforePrint = () => {\n            console.log('start printing');\n        };\n        var afterPrint = () => {\n            let reloadTime = window.bo.zmsticketprinter.reloadInterval;\n            setTimeout(() => {\n                this.reload();\n            }, reloadTime * 1000); // default is 30\n        };\n\n        if (window.matchMedia) {\n            var mediaQueryList = window.matchMedia('print');\n            mediaQueryList.addListener(function(mql) {\n                if (mql.matches) {\n                    beforePrint();\n                } else {\n                    afterPrint();\n                }\n            });\n        }\n\n        window.onbeforeprint = beforePrint;\n        window.onafterprint = afterPrint;\n    }\n}\n\nexport default View;\n","export default {\n    'reloadInterval': 30,\n    'animationEnd': 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend',\n    'includeUrl': '/terminvereinbarung/ticketprinter'\n};\n","/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!this.json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9ibG9jay9kaWdpdGFsLWNsb2NrLmpzIiwianMvYmxvY2svbm90aWZpY2F0aW9uLWtleWJvYXJkLWhhbmRoZWxkLmpzIiwianMvZWxlbWVudC9mb3JtL3ByZXZlbnRGb3JtUmVzdWJtaXQuanMiLCJqcy9pbmRleC5qcyIsImpzL2xpYi9iYXNldmlldy5qcyIsImpzL2xpYi9iaW5kSGFuZGxlci5qcyIsImpzL2xpYi9kaWFsb2dIYW5kbGVyLmpzIiwianMvbGliL2Vycm9ySGFuZGxlci5qcyIsImpzL2xpYi91dGlscy5qcyIsImpzL3BhZ2UvbWFpbi5qcyIsImpzL3BhZ2UvbmV3aGFzaC5qcyIsImpzL3BhZ2UvcHJvY2Vzcy5qcyIsImpzL3NldHRpbmdzLmpzIiwibm9kZV9tb2R1bGVzL2pzLWNvb2tpZS9zcmMvanMuY29va2llLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7QUNDQTs7Ozs7Ozs7OzsrZUFEQTs7O0lBR00sSTs7O0FBRUYsa0JBQWEsT0FBYixFQUFzQjtBQUFBOztBQUFBLGdIQUNaLE9BRFk7O0FBRWxCLGNBQUssaUJBQUwsQ0FBdUIsV0FBdkIsRUFBb0MsYUFBcEM7QUFDQSxnQkFBUSxHQUFSLENBQVkscUJBQVo7QUFDQSxjQUFLLENBQUwsQ0FBTyxLQUFQLENBQWEsTUFBSyxXQUFsQjtBQUprQjtBQUtyQjs7OztvQ0FFWTtBQUNULGdCQUFJLE9BQUssSUFBSSxJQUFKLEVBQVQ7QUFDQSxnQkFBSSxPQUFLLEtBQUssUUFBTCxFQUFUO0FBQ0EsZ0JBQUksU0FBTyxLQUFLLFVBQUwsRUFBWDtBQUNBLGdCQUFJLFNBQU8sS0FBSyxVQUFMLEVBQVg7QUFDQSxnQkFBSSxPQUFLLElBQVQ7QUFDQSxnQkFBSSxTQUFPLENBQVgsRUFBYyxRQUFNLENBQUUsU0FBTyxFQUFSLEdBQWEsSUFBYixHQUFvQixHQUFyQixJQUEwQixNQUFoQyxDQUFkLEtBQ0ssUUFBTSxDQUFFLFNBQU8sRUFBUixHQUFhLElBQWIsR0FBb0IsR0FBckIsSUFBMEIsTUFBaEM7QUFDTCxpQkFBSyxDQUFMLENBQU8sSUFBUCxDQUFZLElBQVo7QUFDSDs7Ozs7Ozs7Ozs7OztzQkFFYztBQUNsQix3QkFBWSxLQUFLLFNBQWpCLEVBQTRCLElBQTVCO0FBQ0ksUzs7Ozs7O2tCQUdVLEk7Ozs7Ozs7Ozs7O0FDM0JmOzs7O0FBQ0E7Ozs7Ozs7Ozs7OztJQUVNLEk7OztBQUdGLGtCQUFhLE9BQWIsRUFBc0I7QUFBQTs7QUFBQSxnSEFDWixPQURZOztBQUVsQixjQUFLLE1BQUwsR0FBYyxNQUFLLENBQUwsQ0FBTyxJQUFQLENBQVksSUFBWixDQUFkO0FBQ0EsWUFBSSxNQUFLLE1BQUwsSUFBZSxrQkFBbkIsRUFBdUM7QUFDbkMsa0JBQUssZUFBTCxHQUF1QixDQUF2QjtBQUNILFNBRkQsTUFFTztBQUNILGtCQUFLLGVBQUwsR0FBdUIsRUFBdkI7QUFDSDs7QUFFRCxjQUFLLGlCQUFMLENBQXVCLGNBQXZCLEVBQXVDLGNBQXZDLEVBQXVELGNBQXZELEVBQXVFLGFBQXZFO0FBQ0EsZ0JBQVEsR0FBUixDQUFZLHlCQUFaO0FBQ0EsY0FBSyxDQUFMLENBQU8sSUFBUCxDQUFZLGVBQVosRUFBNkIsRUFBN0IsQ0FBZ0MsT0FBaEMsRUFBeUMsTUFBSyxZQUE5QztBQUNBLGNBQUssQ0FBTCxDQUFPLElBQVAsQ0FBWSx3QkFBWixFQUFzQyxFQUF0QyxDQUF5QyxPQUF6QyxFQUFrRCxNQUFLLFlBQXZEO0FBQ0EsY0FBSyxDQUFMLENBQU8sSUFBUCxDQUFZLDZCQUFaLEVBQTJDLEVBQTNDLENBQThDLE9BQTlDLEVBQXVELE1BQUssWUFBNUQ7QUFDQSxjQUFLLFlBQUwsR0FBb0IsTUFBSyxDQUFMLENBQU8sSUFBUCxDQUFZLGlCQUFaLENBQXBCO0FBZGtCO0FBZXJCOzs7O3FDQUVhLEssRUFBTztBQUN4QixnQkFBSSxXQUFXLHNCQUFFLE1BQU0sTUFBUixFQUFnQixPQUFoQixDQUF3QixRQUF4QixDQUFmO0FBQ08sZ0JBQUksU0FBUyxTQUFTLElBQVQsRUFBYjtBQUNBLGlCQUFLLFlBQUwsQ0FBa0IsR0FBbEIsQ0FBc0IsS0FBSyxZQUFMLENBQWtCLEdBQWxCLEtBQTBCLEVBQTFCLEdBQStCLE1BQXJEO0FBQ0EsaUJBQUssV0FBTDtBQUNBLG1CQUFPLEtBQVA7QUFDSDs7O3VDQUVlO0FBQ1osaUJBQUssWUFBTCxDQUFrQixHQUFsQixDQUFzQixLQUFLLFlBQUwsQ0FBa0IsR0FBbEIsR0FBd0IsT0FBeEIsQ0FBZ0MsSUFBaEMsRUFBc0MsRUFBdEMsQ0FBdEI7QUFDQSxpQkFBSyxXQUFMO0FBQ0EsbUJBQU8sS0FBUDtBQUNIOzs7dUNBRWU7QUFDWixpQkFBSyxZQUFMLENBQWtCLEdBQWxCLENBQXNCLEVBQXRCO0FBQ0EsaUJBQUssV0FBTDtBQUNBLG1CQUFPLEtBQVA7QUFDSDs7O3NDQUVjO0FBQ1g7QUFDQSxnQkFBSSxTQUFTLEtBQUssWUFBTCxDQUFrQixHQUFsQixFQUFiO0FBQ0EsZ0JBQUksS0FBSyxNQUFMLElBQWUsa0JBQW5CLEVBQXVDO0FBQ25DLHlCQUFTLE9BQU8sT0FBUCxDQUFlLEtBQWYsRUFBc0IsRUFBdEIsQ0FBVDtBQUNIO0FBQ0QscUJBQVMsT0FBTyxPQUFQLENBQWUsUUFBZixFQUF5QixFQUF6QixDQUFUO0FBQ0EsZ0JBQUksVUFBVSxLQUFLLENBQUwsQ0FBTyxJQUFQLENBQVksV0FBWixDQUFkO0FBQ0EsZ0JBQUksT0FBTyxNQUFQLElBQWlCLEtBQUssZUFBMUIsRUFBMkM7QUFDdkMsd0JBQVEsV0FBUixDQUFvQixVQUFwQixFQUFnQyxJQUFoQyxDQUFxQyxVQUFyQyxFQUFpRCxLQUFqRDtBQUNILGFBRkQsTUFFTztBQUNILG9CQUFJLENBQUMsUUFBUSxRQUFSLENBQWlCLFVBQWpCLENBQUwsRUFBbUM7QUFDL0IsNEJBQVEsUUFBUixDQUFpQixVQUFqQixFQUE2QixJQUE3QixDQUFrQyxVQUFsQyxFQUE4QyxJQUE5QztBQUNIO0FBQ0o7QUFDRCxpQkFBSyxZQUFMLENBQWtCLEdBQWxCLENBQXNCLE1BQXRCO0FBQ0g7Ozs7OztrQkFJVSxJOzs7Ozs7Ozs7QUNoRWY7Ozs7OztBQUVBLElBQU0sc0JBQXNCLFNBQXRCLG1CQUFzQixDQUFDLE9BQUQsRUFBYTtBQUNyQyxNQUFNLFFBQVEsc0JBQUUsT0FBRixDQUFkOztBQUVBLFFBQU0sRUFBTixDQUFTLFFBQVQsRUFBbUIsVUFBQyxFQUFELEVBQVE7QUFDdkIsUUFBSSxNQUFNLElBQU4sQ0FBVyxXQUFYLE1BQTRCLElBQWhDLEVBQXNDO0FBQ3BDO0FBQ0EsU0FBRyxlQUFIO0FBQ0EsU0FBRyxjQUFIO0FBQ0QsS0FKRCxNQUlPO0FBQ0w7QUFDQSxZQUFNLElBQU4sQ0FBVyxXQUFYLEVBQXdCLElBQXhCO0FBQ0Q7QUFFSixHQVZEO0FBV0gsQ0FkRDs7a0JBZ0JlLG1COzs7Ozs7QUNkZjs7QUFHQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFHQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBOzs7QUFSQTs7O0FBTkE7QUFlQSxpQkFBTyxDQUFQLG9CLENBckJBO0FBQ0E7QUFDQTs7QUFvQkEsaUJBQU8sRUFBUCxHQUFZO0FBQ1I7QUFEUSxDQUFaOztBQUlBO0FBQ0Esc0JBQUUsVUFBRixFQUFjLElBQWQsQ0FBbUIsWUFBVztBQUFFLDBCQUFZLElBQVo7QUFBbUIsQ0FBbkQ7QUFDQSxzQkFBRSw4QkFBRixFQUFrQyxJQUFsQyxDQUF1QyxZQUFXO0FBQUUsdUJBQVcsSUFBWDtBQUFrQixDQUF0RTtBQUNBLHNCQUFFLFVBQUYsRUFBYyxJQUFkLENBQW1CLFlBQVc7QUFBRSwwQkFBZ0IsSUFBaEI7QUFBdUIsQ0FBdkQ7QUFDQSxzQkFBRSxhQUFGLEVBQWlCLElBQWpCLENBQXNCLFlBQVc7QUFBRSwrQkFBZ0IsSUFBaEI7QUFBdUIsQ0FBMUQ7QUFDQSxzQkFBRSxTQUFGLEVBQWEsSUFBYixDQUFrQixZQUFXO0FBQUUsK0NBQXFDLElBQXJDO0FBQTRDLENBQTNFOztBQUVBO0FBQ0Esc0JBQUUsTUFBRixFQUFVLElBQVYsQ0FBZSxZQUFXO0FBQ3RCLHVDQUFvQixJQUFwQjtBQUNILENBRkQ7O0FBSUE7QUFDQSxRQUFRLEdBQVIsQ0FBWSwrQ0FBWjs7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDMUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7O0lBRU0sUTs7O0FBRUYsc0JBQVksT0FBWixFQUFxQjtBQUFBOztBQUFBLHdIQUNYLE9BRFc7O0FBRWpCLGNBQUssS0FBTCxHQUFhLHNCQUFFLE9BQUYsQ0FBYjtBQUZpQjtBQUdwQjs7Ozs0QkFFUTtBQUNMLG1CQUFPLEtBQUssS0FBWjtBQUNIOzs7dUNBRXFCLEcsRUFBa0M7QUFBQSxnQkFBN0IsTUFBNkIsdUVBQXBCLEtBQW9CO0FBQUEsZ0JBQWIsSUFBYSx1RUFBTixJQUFNOztBQUNwRCxnQkFBTSxlQUFlO0FBQ2pCO0FBRGlCLGFBQXJCO0FBR0EsZ0JBQUksV0FBVyxNQUFYLElBQXFCLFdBQVcsS0FBcEMsRUFBMkM7QUFDdkMsNkJBQWEsSUFBYixHQUFvQixJQUFwQjtBQUNIO0FBQ0QsbUJBQU8sSUFBSSxPQUFKLENBQVksVUFBQyxPQUFELEVBQVUsTUFBVixFQUFxQjtBQUNwQyxpQ0FBRSxJQUFGLENBQU8sR0FBUCxFQUFZLFlBQVosRUFBMEIsSUFBMUIsQ0FBK0Isd0JBQWdCO0FBQzNDLDRCQUFRLFlBQVI7QUFDSCxpQkFGRCxFQUVHLElBRkgsQ0FFUSxlQUFPO0FBQ1gsNEJBQVEsR0FBUixDQUFZLGdCQUFaLEVBQThCLEdBQTlCLEVBQW1DLEdBQW5DO0FBQ0EsMkJBQU8sR0FBUDtBQUNILGlCQUxEO0FBTUgsYUFQTSxDQUFQO0FBUUg7Ozt5Q0FFd0IsUSxFQUFVLFMsRUFBVTtBQUFBLDRCQUNXLHFCQUFTLEtBQUssS0FBZCxFQUFxQixZQUFNO0FBQzNFLG1DQUNBLFdBREE7QUFFSCxhQUhtRCxDQURYO0FBQUEsZ0JBQ2pDLHNCQURpQyxhQUNqQyxzQkFEaUM7QUFBQSxnQkFDVCxlQURTLGFBQ1QsZUFEUzs7QUFLekMsd0NBQWtCLHNCQUFsQixFQUEwQztBQUN0QywwQkFBVSxRQUQ0QjtBQUV0QywwQkFBVSxvQkFBTTtBQUNaO0FBQ0E7QUFDSDtBQUxxQyxhQUExQztBQU9IOzs7Ozs7a0JBSVUsUTs7Ozs7Ozs7Ozs7OztJQy9DVCxXOzs7Ozs7OzRDQUU2QjtBQUMzQixnQkFBSSxTQUFTLElBQWI7O0FBRDJCLDhDQUFULE9BQVM7QUFBVCx1QkFBUztBQUFBOztBQUUzQixvQkFBUSxPQUFSLENBQWlCLFVBQVUsTUFBVixFQUFrQjtBQUMvQixvQkFBSSxPQUFPLE9BQU8sTUFBUCxDQUFQLEtBQTBCLFVBQTlCLEVBQTBDO0FBQ3RDLDBCQUFNLHVCQUF1QixNQUE3QjtBQUNIO0FBQ0QsdUJBQU8sTUFBUCxJQUFpQixPQUFPLE1BQVAsRUFBZSxJQUFmLENBQW9CLE1BQXBCLENBQWpCO0FBQ0gsYUFMRDtBQU1IOzs7Ozs7a0JBR1UsVzs7Ozs7Ozs7Ozs7QUNmZjs7Ozs7Ozs7SUFFTSxhO0FBRUYsMkJBQWEsT0FBYixFQUFzQixPQUF0QixFQUErQjtBQUFBOztBQUMzQixhQUFLLEtBQUwsR0FBYSxzQkFBRSxPQUFGLENBQWI7QUFDQSxhQUFLLFFBQUwsR0FBZ0IsUUFBUSxRQUF4QjtBQUNBLGFBQUssUUFBTCxHQUFnQixRQUFRLFFBQVIsSUFBcUIsWUFBTSxDQUFFLENBQTdDO0FBQ0EsYUFBSyxNQUFMLEdBQWMsUUFBUSxNQUF0QjtBQUNBLGFBQUssY0FBTCxHQUFzQixRQUFRLGNBQVIsSUFBMkIsWUFBTSxDQUFFLENBQXpEO0FBQ0EsYUFBSyxVQUFMO0FBQ0EsYUFBSyxNQUFMO0FBQ0g7Ozs7aUNBRVE7QUFDTCxnQkFBSSxVQUFVLHNCQUFFLEtBQUssUUFBUCxFQUFpQixNQUFqQixDQUF3QixZQUF4QixDQUFkO0FBQ0EsZ0JBQUksUUFBUSxNQUFSLElBQWtCLENBQXRCLEVBQXlCO0FBQ3JCLG9CQUFJLFVBQVUsc0JBQUUsS0FBSyxRQUFQLEVBQWlCLElBQWpCLENBQXNCLFlBQXRCLENBQWQ7QUFDQSxvQkFBSSxRQUFRLE1BQVIsR0FBaUIsQ0FBckIsRUFBd0I7QUFDcEIsOEJBQVUsUUFBUSxHQUFSLENBQVksQ0FBWixFQUFlLFNBQXpCO0FBQ0g7QUFDSjtBQUNELGlCQUFLLEtBQUwsQ0FBVyxJQUFYLENBQWdCLE9BQWhCO0FBQ0g7OztxQ0FFWTtBQUFBOztBQUNULGlCQUFLLEtBQUwsQ0FBVyxHQUFYLEdBQWlCLEVBQWpCLENBQW9CLE9BQXBCLEVBQTZCLFlBQTdCLEVBQTJDLFVBQUMsRUFBRCxFQUFRO0FBQy9DLG1CQUFHLGNBQUg7QUFDQSxtQkFBRyxlQUFIO0FBQ0Esc0JBQUssUUFBTCxDQUFjLEVBQWQ7QUFDSCxhQUpELEVBSUcsRUFKSCxDQUlNLE9BSk4sRUFJZSxlQUpmLEVBSWdDLFVBQUMsRUFBRCxFQUFRO0FBQ3BDLG1CQUFHLGNBQUg7QUFDQSxtQkFBRyxlQUFIO0FBQ0Esc0JBQUssY0FBTDtBQUNILGFBUkQsRUFRRyxFQVJILENBUU0sT0FSTixFQVFlLGtCQVJmLEVBUW1DLFVBQUMsRUFBRCxFQUFRO0FBQ3ZDLG1CQUFHLGNBQUg7QUFDQSxtQkFBRyxlQUFIO0FBQ0Esb0JBQUksV0FBVyxzQkFBRSxHQUFHLE1BQUwsRUFBYSxJQUFiLENBQWtCLFVBQWxCLENBQWY7QUFDQSxzQkFBSyxRQUFMLEdBQWdCLE1BQUssTUFBTCxDQUFZLFFBQVosQ0FBaEI7QUFDQSxzQkFBSyxRQUFMLENBQWMsRUFBZDtBQUNILGFBZEQ7QUFlSDs7Ozs7O2tCQUdVLGE7Ozs7Ozs7Ozs7O0FDM0NmOzs7Ozs7Ozs7Ozs7SUFFTSxZOzs7QUFDRiw0QkFBYztBQUFBOztBQUFBOztBQUVWLGNBQUssYUFBTCxHQUFxQixZQUFXLENBQUUsQ0FBbEM7QUFGVTtBQUdiOzs7OzRCQUVtQjtBQUNoQixtQkFBTyxLQUFLLGFBQVo7QUFDSCxTOzBCQUNpQixRLEVBQVU7QUFDeEIsaUJBQUssYUFBTCxHQUFxQixRQUFyQjtBQUNIOzs7Ozs7a0JBR1UsWTs7Ozs7Ozs7OztBQ2pCZjs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBLElBQU0sZUFBZSxtRUFBckI7O0FBRU8sSUFBTSw4QkFBVyxTQUFYLFFBQVcsQ0FBQyxhQUFELEVBQWdCLGlCQUFoQixFQUFzQztBQUMxRCxRQUFNLGtCQUFrQixzQkFBRSxZQUFGLENBQXhCOztBQUVBLFFBQUksQ0FBQyxhQUFMLEVBQW9CO0FBQ2hCLHdCQUFnQixzQkFBRSxNQUFGLENBQWhCO0FBQ0Esd0JBQWdCLFFBQWhCLENBQXlCLE9BQXpCO0FBQ0g7O0FBRUQsUUFBTSxrQkFBa0IsU0FBbEIsZUFBa0IsR0FBTTtBQUMxQix3QkFBZ0IsR0FBaEI7QUFDQSx3QkFBZ0IsTUFBaEI7QUFDSCxLQUhEOztBQUtBLFFBQU0seUJBQXlCLGdCQUFnQixJQUFoQixDQUFxQixvQkFBckIsQ0FBL0I7O0FBRUEsb0JBQWdCLEVBQWhCLENBQW1CLE9BQW5CLEVBQTRCLFVBQUMsRUFBRCxFQUFRO0FBQ2hDO0FBQ0EsV0FBRyxlQUFIO0FBQ0EsV0FBRyxjQUFIO0FBQ0E7QUFDQTtBQUNILEtBTkQsRUFNRyxFQU5ILENBTU0sT0FOTixFQU1lLG9CQU5mLEVBTXFDLFVBQUMsRUFBRCxFQUFRO0FBQ3pDLFdBQUcsZUFBSDtBQUNILEtBUkQ7O0FBV0EsUUFBSSxzQkFBRSxhQUFGLEVBQWlCLElBQWpCLENBQXNCLFdBQXRCLEVBQW1DLE1BQXZDLEVBQStDO0FBQzNDLDhCQUFFLGFBQUYsRUFBaUIsSUFBakIsQ0FBc0IsV0FBdEIsRUFBbUMsTUFBbkM7QUFDSDtBQUNELDBCQUFFLGFBQUYsRUFBaUIsTUFBakIsQ0FBd0IsZUFBeEI7O0FBRUEsV0FBTztBQUNILHNEQURHO0FBRUg7QUFGRyxLQUFQO0FBSUgsQ0FuQ007O0FBcUNBLElBQU0sa0NBQWEsU0FBYixVQUFhLEdBQU07QUFDNUIsUUFBSSxTQUFTLFFBQVQsQ0FBa0IsUUFBbEIsS0FBK0IsUUFBbkMsRUFBNkM7QUFDekMsMkJBQVMsY0FBVCxDQUEyQixtQkFBUyxVQUFwQyxvQ0FBK0UsSUFBL0UsQ0FBb0YsVUFBQyxRQUFELEVBQWM7QUFDOUYsK0JBQVMsZ0JBQVQsQ0FBMEIsUUFBMUIsRUFBb0MsWUFBTTtBQUN0Qyx5QkFBUyxRQUFULENBQWtCLElBQWxCLEdBQXlCLGFBQWEsU0FBUyxRQUFULENBQWtCLElBQWxCLENBQXVCLFNBQXZCLENBQWlDLFNBQVMsUUFBVCxDQUFrQixRQUFsQixDQUEyQixNQUE1RCxFQUFvRSxTQUFTLFFBQVQsQ0FBa0IsSUFBbEIsQ0FBdUIsTUFBM0YsQ0FBdEM7QUFDSCxhQUZEO0FBR0gsU0FKRDtBQUtIO0FBRUosQ0FUTTs7Ozs7Ozs7Ozs7O0FDMUNQOzs7O0FBQ0E7Ozs7Ozs7Ozs7K2VBRkE7OztJQUlNLEk7OztBQUVGLGtCQUFhLE9BQWIsRUFBc0I7QUFBQTs7QUFBQSxnSEFDWixPQURZOztBQUVsQixjQUFLLGlCQUFMLENBQXVCLGFBQXZCLEVBQXNDLFlBQXRDO0FBQ0EsZ0JBQVEsR0FBUixDQUFZLHVDQUFaO0FBQ0EsY0FBSyxDQUFMLENBQU8sS0FBUCxDQUFhLE1BQUssV0FBbEI7QUFKa0I7QUFLckI7Ozs7cUNBRWE7QUFDViw2QkFBTyxRQUFQLENBQWdCLElBQWhCLEdBQXVCLEtBQUssTUFBTCxDQUFZLFFBQVosQ0FBdkI7QUFDSDs7Ozs7Ozs7Ozs7OztzQkFFYztBQUNYLGdCQUFJLGFBQWEsaUJBQU8sRUFBUCxDQUFVLGdCQUFWLENBQTJCLGNBQTVDO0FBQ0Esd0JBQVksS0FBSyxVQUFqQixFQUE2QixhQUFhLElBQTFDO0FBQ0gsUzs7OytCQUVPLFksRUFBYztBQUNsQixnQkFBSSxjQUFjLGlCQUFPLEVBQVAsQ0FBVSxnQkFBVixDQUEyQixXQUE3QztBQUNBLG1CQUFPLGNBQWMsWUFBckI7QUFDSDs7Ozs7O2tCQUdVLEk7Ozs7Ozs7Ozs7Ozs7O0FDM0JmOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7OytlQUpBOzs7SUFNTSxJOzs7QUFFRixrQkFBYSxPQUFiLEVBQXNCO0FBQUE7O0FBQUEsZ0hBQ1osT0FEWTs7QUFFbEIsY0FBSyxpQkFBTCxDQUF1QixNQUF2QixFQUE4QixZQUE5QixFQUEyQyxRQUEzQyxFQUFvRCxZQUFwRDtBQUNBLGdEQUFVLEVBQVYsQ0FBYSxNQUFiLEVBQXFCLE1BQUssSUFBMUI7QUFIa0I7QUFJckI7Ozs7K0JBRU87QUFDSiwrQkFBTyxNQUFQLENBQWMsZUFBZCxFQUErQixFQUFFLFFBQVEsSUFBVixFQUEvQjtBQUNBLGlCQUFLLFVBQUw7QUFDSDs7O3FDQUVhO0FBQ1YsNkJBQU8sUUFBUCxDQUFnQixJQUFoQixHQUF1QixLQUFLLE1BQUwsQ0FBWSxRQUFaLENBQXZCO0FBQ0g7Ozs7Ozs7Ozs7Ozs7c0JBRWE7QUFDVix1QkFBVyxLQUFLLFVBQWhCLEVBQTRCLElBQTVCO0FBQ0gsUzs7OytCQUVPLFksRUFBYztBQUNsQixnQkFBSSxjQUFjLGlCQUFPLEVBQVAsQ0FBVSxnQkFBVixDQUEyQixXQUE3QztBQUNBLG1CQUFPLGNBQWMsWUFBckI7QUFDSDs7Ozs7O2tCQUdVLEk7Ozs7Ozs7Ozs7Ozs7O0FDaENmOzs7O0FBQ0E7Ozs7Ozs7Ozs7K2VBRkE7OztJQUlNLEk7OztBQUVGLGtCQUFhLE9BQWIsRUFBc0I7QUFBQTs7QUFBQSxnSEFDWixPQURZOztBQUVsQixjQUFLLGlCQUFMLENBQXVCLGFBQXZCLEVBQXNDLFFBQXRDO0FBQ0EsZ0JBQVEsR0FBUixDQUFZLDBEQUFaO0FBQ0EsY0FBSyxDQUFMLENBQU8sS0FBUCxDQUFhLE1BQUssV0FBbEI7QUFKa0I7QUFLckI7Ozs7aUNBRVM7QUFDTiw2QkFBTyxRQUFQLENBQWdCLElBQWhCLEdBQXVCLEtBQUssTUFBTCxDQUFZLFFBQVosQ0FBdkI7QUFDSDs7OytCQUVPLFksRUFBYztBQUNsQixnQkFBSSxjQUFjLGlCQUFPLEVBQVAsQ0FBVSxnQkFBVixDQUEyQixXQUE3QztBQUNBLG1CQUFPLGNBQWMsWUFBckI7QUFDSDs7O3NDQUVjO0FBQUE7O0FBQ1gscUJBQVMsS0FBVCxHQUFpQiw0QkFBakI7QUFDQSw2QkFBTyxLQUFQOztBQUVBLGdCQUFJLGNBQWMsU0FBZCxXQUFjLEdBQU07QUFDcEIsd0JBQVEsR0FBUixDQUFZLGdCQUFaO0FBQ0gsYUFGRDtBQUdBLGdCQUFJLGFBQWEsU0FBYixVQUFhLEdBQU07QUFDbkIsb0JBQUksYUFBYSxpQkFBTyxFQUFQLENBQVUsZ0JBQVYsQ0FBMkIsY0FBNUM7QUFDQSwyQkFBVyxZQUFNO0FBQ2IsMkJBQUssTUFBTDtBQUNILGlCQUZELEVBRUcsYUFBYSxJQUZoQixFQUZtQixDQUlJO0FBQzFCLGFBTEQ7O0FBT0EsZ0JBQUksaUJBQU8sVUFBWCxFQUF1QjtBQUNuQixvQkFBSSxpQkFBaUIsaUJBQU8sVUFBUCxDQUFrQixPQUFsQixDQUFyQjtBQUNBLCtCQUFlLFdBQWYsQ0FBMkIsVUFBUyxHQUFULEVBQWM7QUFDckMsd0JBQUksSUFBSSxPQUFSLEVBQWlCO0FBQ2I7QUFDSCxxQkFGRCxNQUVPO0FBQ0g7QUFDSDtBQUNKLGlCQU5EO0FBT0g7O0FBRUQsNkJBQU8sYUFBUCxHQUF1QixXQUF2QjtBQUNBLDZCQUFPLFlBQVAsR0FBc0IsVUFBdEI7QUFDSDs7Ozs7O2tCQUdVLEk7Ozs7Ozs7Ozs7a0JDcERBO0FBQ1gsc0JBQWtCLEVBRFA7QUFFWCxvQkFBZ0IsOEVBRkw7QUFHWCxrQkFBYztBQUhILEM7OztBQ0FmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qIGdsb2JhbCBzZXRJbnRlcnZhbCAqL1xuaW1wb3J0IEJhc2VWaWV3IGZyb20gJy4uL2xpYi9iYXNldmlldyc7XG5cbmNsYXNzIFZpZXcgZXh0ZW5kcyBCYXNlVmlldyB7XG5cbiAgICBjb25zdHJ1Y3RvciAoZWxlbWVudCkge1xuICAgICAgICBzdXBlcihlbGVtZW50KTtcbiAgICAgICAgdGhpcy5iaW5kUHVibGljTWV0aG9kcygnaW5pdENsb2NrJywgJ3NldEludGVydmFsJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRm91bmQgZGlnaXRhbCBjbG9ja1wiKTtcbiAgICAgICAgdGhpcy4kLnJlYWR5KHRoaXMuc2V0SW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIGluaXRDbG9jayAoKSB7XG4gICAgICAgIHZhciB0aW1lPW5ldyBEYXRlKCk7XG4gICAgICAgIHZhciBob3VyPXRpbWUuZ2V0SG91cnMoKTtcbiAgICAgICAgdmFyIG1pbnV0ZT10aW1lLmdldE1pbnV0ZXMoKTtcbiAgICAgICAgdmFyIHNlY29uZD10aW1lLmdldFNlY29uZHMoKTtcbiAgICAgICAgdmFyIHRlbXA9aG91cjtcbiAgICAgICAgaWYgKHNlY29uZCUyKSB0ZW1wKz0oKG1pbnV0ZTwxMCk/IFwiOjBcIiA6IFwiOlwiKSttaW51dGU7XG4gICAgICAgIGVsc2UgdGVtcCs9KChtaW51dGU8MTApPyBcIjowXCIgOiBcIiBcIikrbWludXRlO1xuICAgICAgICB0aGlzLiQudGV4dCh0ZW1wKTtcbiAgICB9XG5cbiAgICBzZXRJbnRlcnZhbCAoKSB7XG5cdHNldEludGVydmFsKHRoaXMuaW5pdENsb2NrLCAxMDAwKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZpZXc7XG4iLCJcbmltcG9ydCBCYXNlVmlldyBmcm9tICcuLi9saWIvYmFzZXZpZXcnO1xuaW1wb3J0ICQgZnJvbSBcImpxdWVyeVwiO1xuXG5jbGFzcyBWaWV3IGV4dGVuZHMgQmFzZVZpZXcge1xuXG5cbiAgICBjb25zdHJ1Y3RvciAoZWxlbWVudCkge1xuICAgICAgICBzdXBlcihlbGVtZW50KTsgICAgICAgIFxuICAgICAgICB0aGlzLnNvdXJjZSA9IHRoaXMuJC5hdHRyKCdpZCcpOyAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLnNvdXJjZSA9PSBcIndhaXRpbmdOdW1iZXJQYWRcIikge1xuICAgICAgICAgICAgdGhpcy5taW5OdW1iZXJMZW5ndGggPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5taW5OdW1iZXJMZW5ndGggPSAxMDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5iaW5kUHVibGljTWV0aG9kcygnYXBwZW5kTnVtYmVyJywgJ2RlbGV0ZU51bWJlcicsICdjbGVhck51bWJlcnMnLCAnY2hlY2tOdW1iZXInKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJGb3VuZCBrZXlib2FyZC1oYW5kaGVsZFwiKTtcbiAgICAgICAgdGhpcy4kLmZpbmQoJ2J1dHRvbi56aWZmZXInKS5vbignY2xpY2snLCB0aGlzLmFwcGVuZE51bWJlcik7XG4gICAgICAgIHRoaXMuJC5maW5kKCdidXR0b24jcmVtb3ZlbGFzdGRpZ2l0Jykub24oJ2NsaWNrJywgdGhpcy5kZWxldGVOdW1iZXIpO1xuICAgICAgICB0aGlzLiQuZmluZCgnYnV0dG9uI3JlbW92ZWFsbGRpZ2l0c3Bob25lJykub24oJ2NsaWNrJywgdGhpcy5jbGVhck51bWJlcnMpO1xuICAgICAgICB0aGlzLiRudW1iZXJJbnB1dCA9IHRoaXMuJC5maW5kKCcubnVtbWVybmVpbmdhYmUnKTtcbiAgICB9XG5cbiAgICBhcHBlbmROdW1iZXIgKGV2ZW50KSB7XG5cdGxldCAkY29udGVudCA9ICQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCdidXR0b24nKTtcbiAgICAgICAgbGV0IG51bWJlciA9ICRjb250ZW50LnRleHQoKTtcbiAgICAgICAgdGhpcy4kbnVtYmVySW5wdXQudmFsKHRoaXMuJG51bWJlcklucHV0LnZhbCgpICsgJycgKyBudW1iZXIpO1xuICAgICAgICB0aGlzLmNoZWNrTnVtYmVyKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBkZWxldGVOdW1iZXIgKCkge1xuICAgICAgICB0aGlzLiRudW1iZXJJbnB1dC52YWwodGhpcy4kbnVtYmVySW5wdXQudmFsKCkucmVwbGFjZSgvLiQvLCAnJykpO1xuICAgICAgICB0aGlzLmNoZWNrTnVtYmVyKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjbGVhck51bWJlcnMgKCkge1xuICAgICAgICB0aGlzLiRudW1iZXJJbnB1dC52YWwoJycpO1xuICAgICAgICB0aGlzLmNoZWNrTnVtYmVyKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjaGVja051bWJlciAoKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy4kbnVtYmVySW5wdXQudmFsKCkpO1xuICAgICAgICB2YXIgbnVtYmVyID0gdGhpcy4kbnVtYmVySW5wdXQudmFsKCk7XG4gICAgICAgIGlmICh0aGlzLnNvdXJjZSA9PSAnd2FpdGluZ051bWJlclBhZCcpIHtcbiAgICAgICAgICAgIG51bWJlciA9IG51bWJlci5yZXBsYWNlKC9eMCsvLCAnJyk7XG4gICAgICAgIH0gICAgICAgIFxuICAgICAgICBudW1iZXIgPSBudW1iZXIucmVwbGFjZSgvW15cXGRdL2csICcnKTtcbiAgICAgICAgdmFyICRidXR0b24gPSB0aGlzLiQuZmluZCgnLm5hY2h0cmFnJyk7XG4gICAgICAgIGlmIChudW1iZXIubGVuZ3RoID49IHRoaXMubWluTnVtYmVyTGVuZ3RoKSB7XG4gICAgICAgICAgICAkYnV0dG9uLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpLmF0dHIoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCEkYnV0dG9uLmhhc0NsYXNzKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgJGJ1dHRvbi5hZGRDbGFzcygnZGlzYWJsZWQnKS5hdHRyKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuJG51bWJlcklucHV0LnZhbChudW1iZXIpO1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBWaWV3O1xuIiwiaW1wb3J0ICQgZnJvbSBcImpxdWVyeVwiO1xuXG5jb25zdCBwcmV2ZW50Rm9ybVJlc3VibWl0ID0gKGVsZW1lbnQpID0+IHtcbiAgICBjb25zdCAkZm9ybSA9ICQoZWxlbWVudClcblxuICAgICRmb3JtLm9uKCdzdWJtaXQnLCAoZXYpID0+IHtcbiAgICAgICAgaWYgKCRmb3JtLmRhdGEoJ3N1Ym1pdHRlZCcpID09PSB0cnVlKSB7XG4gICAgICAgICAgLy8gUHJldmlvdXNseSBzdWJtaXR0ZWQgLSBkb24ndCBzdWJtaXQgYWdhaW5cbiAgICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE1hcmsgaXQgc28gdGhhdCB0aGUgbmV4dCBzdWJtaXQgY2FuIGJlIGlnbm9yZWRcbiAgICAgICAgICAkZm9ybS5kYXRhKCdzdWJtaXR0ZWQnLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgfSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgcHJldmVudEZvcm1SZXN1Ym1pdFxuIiwiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFpNUyBUaWNrZXRwcmludGVyIGJlaGF2aW9yXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5pbXBvcnQgJ2JhYmVsLXBvbHlmaWxsJztcblxuLy8gSW1wb3J0IGJhc2UgbGlic1xuaW1wb3J0IHdpbmRvdyBmcm9tIFwid2luZG93XCI7XG5pbXBvcnQgJCBmcm9tIFwianF1ZXJ5XCI7XG5pbXBvcnQgc2V0dGluZ3MgZnJvbSAnLi9zZXR0aW5ncyc7XG5pbXBvcnQgeyBmb3JjZUh0dHBzIH0gZnJvbSAnLi9saWIvdXRpbHMnXG5cbi8vIEltcG9ydCBWaWV3c1xuaW1wb3J0IFJlbG9hZCBmcm9tIFwiLi9wYWdlL21haW5cIjtcbmltcG9ydCBHZXRIYXNoIGZyb20gXCIuL3BhZ2UvbmV3aGFzaFwiO1xuaW1wb3J0IFByaW50RGlhbG9nIGZyb20gXCIuL3BhZ2UvcHJvY2Vzc1wiO1xuaW1wb3J0IERpZ2l0YWxUaW1lIGZyb20gXCIuL2Jsb2NrL2RpZ2l0YWwtY2xvY2tcIjtcbmltcG9ydCBOb3RpZmljYXRpb25LZXlib2FyZEhhbmRoZWxkVmlldyBmcm9tIFwiLi9ibG9jay9ub3RpZmljYXRpb24ta2V5Ym9hcmQtaGFuZGhlbGRcIjtcbmltcG9ydCBwcmV2ZW50Rm9ybVJlc3VibWl0IGZyb20gJy4vZWxlbWVudC9mb3JtL3ByZXZlbnRGb3JtUmVzdWJtaXQnXG5cbi8vIEJpbmQgalF1ZXJ5IG9uICQgZm9yIHRlc3RpbmdcbndpbmRvdy4kID0gJDtcbndpbmRvdy5ibyA9IHtcbiAgICBcInptc3RpY2tldHByaW50ZXJcIjogc2V0dGluZ3Ncbn07XG5cbi8vIEluaXQgVmlld3NcbiQoJyNuZXdoYXNoJykuZWFjaChmdW5jdGlvbigpIHsgbmV3IEdldEhhc2godGhpcyk7fSk7XG4kKCcjaW5kZXgsICNtZXNzYWdlLCAjZXhjZXB0aW9uJykuZWFjaChmdW5jdGlvbigpIHsgbmV3IFJlbG9hZCh0aGlzKTt9KTtcbiQoJyNwcm9jZXNzJykuZWFjaChmdW5jdGlvbigpIHsgbmV3IFByaW50RGlhbG9nKHRoaXMpO30pO1xuJCgnLmRpZ2l0YWx1aHInKS5lYWNoKGZ1bmN0aW9uKCkgeyBuZXcgRGlnaXRhbFRpbWUodGhpcyk7fSk7XG4kKCcuc21zYm94JykuZWFjaChmdW5jdGlvbigpIHsgbmV3IE5vdGlmaWNhdGlvbktleWJvYXJkSGFuZGhlbGRWaWV3KHRoaXMpO30pO1xuXG4vLyBwcmV2ZW50IHJlc3VibWl0c1xuJCgnZm9ybScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgcHJldmVudEZvcm1SZXN1Ym1pdCh0aGlzKTtcbn0pXG5cbi8vIFNheSBoZWxsb1xuY29uc29sZS5sb2coXCJXZWxjb21lIHRvIHRoZSBaTVMgVGlja2V0cHJpbnRlciBpbnRlcmZhY2UuLi5cIik7XG5cbi8vIEZvcmNlIGh0dHBzIHByb3RvY29sXG5mb3JjZUh0dHBzKCk7XG4iLCJpbXBvcnQgJCBmcm9tIFwianF1ZXJ5XCI7XG5pbXBvcnQgRXJyb3JIYW5kbGVyIGZyb20gJy4vZXJyb3JIYW5kbGVyJztcbmltcG9ydCBEaWFsb2dIYW5kbGVyIGZyb20gJy4vZGlhbG9nSGFuZGxlcic7XG5pbXBvcnQgeyBsaWdodGJveCB9IGZyb20gJy4vdXRpbHMnO1xuXG5jbGFzcyBCYXNlVmlldyBleHRlbmRzIEVycm9ySGFuZGxlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQpO1xuICAgICAgICB0aGlzLiRtYWluID0gJChlbGVtZW50KTtcbiAgICB9XG5cbiAgICBnZXQgJCAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRtYWluO1xuICAgIH1cblxuICAgIHN0YXRpYyBsb2FkQ2FsbFN0YXRpYyh1cmwsIG1ldGhvZCA9ICdHRVQnLCBkYXRhID0gbnVsbCkge1xuICAgICAgICBjb25zdCBhamF4U2V0dGluZ3MgPSB7XG4gICAgICAgICAgICBtZXRob2RcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gJ1BPU1QnIHx8IG1ldGhvZCA9PT0gJ1BVVCcpIHtcbiAgICAgICAgICAgIGFqYXhTZXR0aW5ncy5kYXRhID0gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgJC5hamF4KHVybCwgYWpheFNldHRpbmdzKS5kb25lKHJlc3BvbnNlRGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZURhdGEpO1xuICAgICAgICAgICAgfSkuZmFpbChlcnIgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdYSFIgbG9hZCBlcnJvcicsIHVybCwgZXJyKTtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBsb2FkRGlhbG9nU3RhdGljIChyZXNwb25zZSwgY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgeyBsaWdodGJveENvbnRlbnRFbGVtZW50LCBkZXN0cm95TGlnaHRib3ggfSA9IGxpZ2h0Ym94KHRoaXMuJG1haW4sICgpID0+IHtcbiAgICAgICAgICAgIGRlc3Ryb3lMaWdodGJveCgpLFxuICAgICAgICAgICAgY2FsbGJhY2soKVxuICAgICAgICB9KTtcbiAgICAgICAgbmV3IERpYWxvZ0hhbmRsZXIobGlnaHRib3hDb250ZW50RWxlbWVudCwge1xuICAgICAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlLFxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIGRlc3Ryb3lMaWdodGJveCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBCYXNlVmlldztcbiIsIlxuXG5jbGFzcyBCaW5kSGFuZGxlciB7XG5cbiAgICBiaW5kUHVibGljTWV0aG9kcyAoLi4ubWV0aG9kcykge1xuICAgICAgICBsZXQgb2JqZWN0ID0gdGhpcztcbiAgICAgICAgbWV0aG9kcy5mb3JFYWNoKCBmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdFttZXRob2RdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJNZXRob2Qgbm90IGZvdW5kOiBcIiArIG1ldGhvZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9iamVjdFttZXRob2RdID0gb2JqZWN0W21ldGhvZF0uYmluZChvYmplY3QpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJpbmRIYW5kbGVyO1xuIiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcblxuY2xhc3MgRGlhbG9nSGFuZGxlciB7XG5cbiAgICBjb25zdHJ1Y3RvciAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLiRtYWluID0gJChlbGVtZW50KTtcbiAgICAgICAgdGhpcy5yZXNwb25zZSA9IG9wdGlvbnMucmVzcG9uc2U7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBvcHRpb25zLmNhbGxiYWNrIHx8ICgoKSA9PiB7fSk7XG4gICAgICAgIHRoaXMucGFyZW50ID0gb3B0aW9ucy5wYXJlbnQ7XG4gICAgICAgIHRoaXMuaGFuZGxlTGlnaHRib3ggPSBvcHRpb25zLmhhbmRsZUxpZ2h0Ym94IHx8ICgoKSA9PiB7fSk7XG4gICAgICAgIHRoaXMuYmluZEV2ZW50cygpO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGNvbnRlbnQgPSAkKHRoaXMucmVzcG9uc2UpLmZpbHRlcignZGl2LmRpYWxvZycpO1xuICAgICAgICBpZiAoY29udGVudC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSAkKHRoaXMucmVzcG9uc2UpLmZpbmQoJ2Rpdi5kaWFsb2cnKTtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gbWVzc2FnZS5nZXQoMCkub3V0ZXJIVE1MO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuJG1haW4uaHRtbChjb250ZW50KTtcbiAgICB9XG5cbiAgICBiaW5kRXZlbnRzKCkge1xuICAgICAgICB0aGlzLiRtYWluLm9mZigpLm9uKCdjbGljaycsICcuYnV0dG9uLW9rJywgKGV2KSA9PiB7XG4gICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrKGV2KTtcbiAgICAgICAgfSkub24oJ2NsaWNrJywgJy5idXR0b24tYWJvcnQnLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlTGlnaHRib3goKTtcbiAgICAgICAgfSkub24oJ2NsaWNrJywgJy5idXR0b24tY2FsbGJhY2snLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHZhciBjYWxsYmFjayA9ICQoZXYudGFyZ2V0KS5kYXRhKCdjYWxsYmFjaycpO1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFjayA9IHRoaXMucGFyZW50W2NhbGxiYWNrXTtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2soZXYpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERpYWxvZ0hhbmRsZXJcbiIsIlxuaW1wb3J0IEJpbmRIYW5kbGVyIGZyb20gXCIuL2JpbmRIYW5kbGVyXCI7XG5cbmNsYXNzIEVycm9ySGFuZGxlciBleHRlbmRzIEJpbmRIYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fZXJyb3JIYW5kbGVyID0gZnVuY3Rpb24oKSB7fTtcbiAgICB9XG5cbiAgICBnZXQgZXJyb3JIYW5kbGVyICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9ySGFuZGxlcjtcbiAgICB9XG4gICAgc2V0IGVycm9ySGFuZGxlciAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fZXJyb3JIYW5kbGVyID0gY2FsbGJhY2s7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFcnJvckhhbmRsZXI7XG4iLCJpbXBvcnQgJCBmcm9tICdqcXVlcnknXG5pbXBvcnQgQmFzZXZpZXcgZnJvbSAnLi9iYXNldmlldyc7XG5pbXBvcnQgc2V0dGluZ3MgZnJvbSAnLi4vc2V0dGluZ3MnO1xuXG5jb25zdCBsaWdodGJveEh0bWwgPSAnPGRpdiBjbGFzcz1cImxpZ2h0Ym94XCI+PGRpdiBjbGFzcz1cImxpZ2h0Ym94X19jb250ZW50XCI+PC9kaXY+PC9kaXY+J1xuXG5leHBvcnQgY29uc3QgbGlnaHRib3ggPSAocGFyZW50RWxlbWVudCwgb25CYWNrZ3JvdW5kQ2xpY2spID0+IHtcbiAgICBjb25zdCBsaWdodGJveEVsZW1lbnQgPSAkKGxpZ2h0Ym94SHRtbClcblxuICAgIGlmICghcGFyZW50RWxlbWVudCkge1xuICAgICAgICBwYXJlbnRFbGVtZW50ID0gJCgnYm9keScpXG4gICAgICAgIGxpZ2h0Ym94RWxlbWVudC5hZGRDbGFzcygnZml4ZWQnKVxuICAgIH1cblxuICAgIGNvbnN0IGRlc3Ryb3lMaWdodGJveCA9ICgpID0+IHtcbiAgICAgICAgbGlnaHRib3hFbGVtZW50Lm9mZigpXG4gICAgICAgIGxpZ2h0Ym94RWxlbWVudC5yZW1vdmUoKVxuICAgIH1cblxuICAgIGNvbnN0IGxpZ2h0Ym94Q29udGVudEVsZW1lbnQgPSBsaWdodGJveEVsZW1lbnQuZmluZCgnLmxpZ2h0Ym94X19jb250ZW50Jyk7XG5cbiAgICBsaWdodGJveEVsZW1lbnQub24oJ2NsaWNrJywgKGV2KSA9PiB7XG4gICAgICAgIC8vY29uc29sZS5sb2coJ2JhY2tncm91bmQgY2xpY2snLCBldik7XG4gICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgIGV2LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgZGVzdHJveUxpZ2h0Ym94KClcbiAgICAgICAgb25CYWNrZ3JvdW5kQ2xpY2soKVxuICAgIH0pLm9uKCdjbGljaycsICcubGlnaHRib3hfX2NvbnRlbnQnLCAoZXYpID0+IHtcbiAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSlcblxuXG4gICAgaWYgKCQocGFyZW50RWxlbWVudCkuZmluZCgnLmxpZ2h0Ym94JykubGVuZ3RoKSB7XG4gICAgICAgICQocGFyZW50RWxlbWVudCkuZmluZCgnLmxpZ2h0Ym94JykucmVtb3ZlKCk7XG4gICAgfVxuICAgICQocGFyZW50RWxlbWVudCkuYXBwZW5kKGxpZ2h0Ym94RWxlbWVudClcblxuICAgIHJldHVybiB7XG4gICAgICAgIGxpZ2h0Ym94Q29udGVudEVsZW1lbnQsXG4gICAgICAgIGRlc3Ryb3lMaWdodGJveFxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGZvcmNlSHR0cHMgPSAoKSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sICE9PSBcImh0dHBzOlwiKSB7XG4gICAgICAgIEJhc2V2aWV3LmxvYWRDYWxsU3RhdGljKGAke3NldHRpbmdzLmluY2x1ZGVVcmx9L2RpYWxvZy8/dGVtcGxhdGU9Zm9yY2VfaHR0cHNgKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgQmFzZXZpZXcubG9hZERpYWxvZ1N0YXRpYyhyZXNwb25zZSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgPSBcImh0dHBzOi8vXCIgKyBkb2N1bWVudC5sb2NhdGlvbi5ocmVmLnN1YnN0cmluZyhkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbC5sZW5ndGgsIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYubGVuZ3RoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbn1cbiIsIi8qIGdsb2JhbCBzZXRJbnRlcnZhbCAqL1xuaW1wb3J0IEJhc2VWaWV3IGZyb20gJy4uL2xpYi9iYXNldmlldyc7XG5pbXBvcnQgd2luZG93IGZyb20gXCJ3aW5kb3dcIjtcblxuY2xhc3MgVmlldyBleHRlbmRzIEJhc2VWaWV3IHtcblxuICAgIGNvbnN0cnVjdG9yIChlbGVtZW50KSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQpO1xuICAgICAgICB0aGlzLmJpbmRQdWJsaWNNZXRob2RzKCdzZXRJbnRlcnZhbCcsICdyZWxvYWRQYWdlJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdSZWRpcmVjdCB0byBob21lIHVybCBldmVyeSAzMCBzZWNvbmRzJyk7XG4gICAgICAgIHRoaXMuJC5yZWFkeSh0aGlzLnNldEludGVydmFsKTtcbiAgICB9XG5cbiAgICByZWxvYWRQYWdlICgpIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB0aGlzLmdldFVybCgnL2hvbWUvJyk7XG4gICAgfVxuXG4gICAgc2V0SW50ZXJ2YWwgKCkge1xuICAgICAgICB2YXIgcmVsb2FkVGltZSA9IHdpbmRvdy5iby56bXN0aWNrZXRwcmludGVyLnJlbG9hZEludGVydmFsO1xuICAgICAgICBzZXRJbnRlcnZhbCh0aGlzLnJlbG9hZFBhZ2UsIHJlbG9hZFRpbWUgKiAxMDAwKTtcbiAgICB9XG5cbiAgICBnZXRVcmwgKHJlbGF0aXZlUGF0aCkge1xuICAgICAgICBsZXQgaW5jbHVkZXBhdGggPSB3aW5kb3cuYm8uem1zdGlja2V0cHJpbnRlci5pbmNsdWRlcGF0aDtcbiAgICAgICAgcmV0dXJuIGluY2x1ZGVwYXRoICsgcmVsYXRpdmVQYXRoO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlldztcbiIsIi8qIGdsb2JhbCBzZXRUaW1lb3V0ICovXG5pbXBvcnQgQmFzZVZpZXcgZnJvbSAnLi4vbGliL2Jhc2V2aWV3JztcbmltcG9ydCB3aW5kb3cgZnJvbSBcIndpbmRvd1wiO1xuaW1wb3J0IGNvb2tpZSBmcm9tIFwianMtY29va2llXCI7XG5pbXBvcnQgJCBmcm9tIFwianF1ZXJ5XCI7XG5cbmNsYXNzIFZpZXcgZXh0ZW5kcyBCYXNlVmlldyB7XG5cbiAgICBjb25zdHJ1Y3RvciAoZWxlbWVudCkge1xuICAgICAgICBzdXBlcihlbGVtZW50KTtcbiAgICAgICAgdGhpcy5iaW5kUHVibGljTWV0aG9kcygnbG9hZCcsJ3NldFRpbWVvdXQnLCdnZXRVcmwnLCdyZWxvYWRQYWdlJyk7XG4gICAgICAgICQod2luZG93KS5vbignbG9hZCcsIHRoaXMubG9hZCk7XG4gICAgfVxuXG4gICAgbG9hZCAoKSB7XG4gICAgICAgIGNvb2tpZS5yZW1vdmUoXCJUaWNrZXRwcmludGVyXCIsIHsgc2VjdXJlOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLnNldFRpbWVvdXQoKTtcbiAgICB9XG5cbiAgICByZWxvYWRQYWdlICgpIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB0aGlzLmdldFVybCgnL2hvbWUvJyk7XG4gICAgfVxuXG4gICAgc2V0VGltZW91dCAoKSB7XG4gICAgICAgIHNldFRpbWVvdXQodGhpcy5yZWxvYWRQYWdlLCA1MDAwKTtcbiAgICB9XG5cbiAgICBnZXRVcmwgKHJlbGF0aXZlUGF0aCkge1xuICAgICAgICBsZXQgaW5jbHVkZXBhdGggPSB3aW5kb3cuYm8uem1zdGlja2V0cHJpbnRlci5pbmNsdWRlcGF0aDtcbiAgICAgICAgcmV0dXJuIGluY2x1ZGVwYXRoICsgcmVsYXRpdmVQYXRoO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlldztcbiIsIi8qIGdsb2JhbCBzZXRUaW1lb3V0ICovXG5pbXBvcnQgQmFzZVZpZXcgZnJvbSAnLi4vbGliL2Jhc2V2aWV3JztcbmltcG9ydCB3aW5kb3cgZnJvbSBcIndpbmRvd1wiO1xuXG5jbGFzcyBWaWV3IGV4dGVuZHMgQmFzZVZpZXcge1xuXG4gICAgY29uc3RydWN0b3IgKGVsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudCk7XG4gICAgICAgIHRoaXMuYmluZFB1YmxpY01ldGhvZHMoJ3ByaW50RGlhbG9nJywgJ3JlbG9hZCcpO1xuICAgICAgICBjb25zb2xlLmxvZygnUHJpbnQgZGF0YSBhbmQgcmVkaXJlY3QgdG8gaG9tZSB1cmwgYWZ0ZXIgcHJlc2V0dGVkIHRpbWUnKTtcbiAgICAgICAgdGhpcy4kLnJlYWR5KHRoaXMucHJpbnREaWFsb2cpO1xuICAgIH1cblxuICAgIHJlbG9hZCAoKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdGhpcy5nZXRVcmwoJy9ob21lLycpO1xuICAgIH1cblxuICAgIGdldFVybCAocmVsYXRpdmVQYXRoKSB7XG4gICAgICAgIGxldCBpbmNsdWRlcGF0aCA9IHdpbmRvdy5iby56bXN0aWNrZXRwcmludGVyLmluY2x1ZGVwYXRoO1xuICAgICAgICByZXR1cm4gaW5jbHVkZXBhdGggKyByZWxhdGl2ZVBhdGg7XG4gICAgfVxuXG4gICAgcHJpbnREaWFsb2cgKCkge1xuICAgICAgICBkb2N1bWVudC50aXRsZSA9IFwiQW5tZWxkdW5nIGFuIFdhcnRlc2NobGFuZ2VcIjtcbiAgICAgICAgd2luZG93LnByaW50KCk7XG5cbiAgICAgICAgdmFyIGJlZm9yZVByaW50ID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3N0YXJ0IHByaW50aW5nJyk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBhZnRlclByaW50ID0gKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHJlbG9hZFRpbWUgPSB3aW5kb3cuYm8uem1zdGlja2V0cHJpbnRlci5yZWxvYWRJbnRlcnZhbDtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVsb2FkKCk7XG4gICAgICAgICAgICB9LCByZWxvYWRUaW1lICogMTAwMCk7IC8vIGRlZmF1bHQgaXMgMzBcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEpIHtcbiAgICAgICAgICAgIHZhciBtZWRpYVF1ZXJ5TGlzdCA9IHdpbmRvdy5tYXRjaE1lZGlhKCdwcmludCcpO1xuICAgICAgICAgICAgbWVkaWFRdWVyeUxpc3QuYWRkTGlzdGVuZXIoZnVuY3Rpb24obXFsKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1xbC5tYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZVByaW50KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJQcmludCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgd2luZG93Lm9uYmVmb3JlcHJpbnQgPSBiZWZvcmVQcmludDtcbiAgICAgICAgd2luZG93Lm9uYWZ0ZXJwcmludCA9IGFmdGVyUHJpbnQ7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWaWV3O1xuIiwiZXhwb3J0IGRlZmF1bHQge1xuICAgICdyZWxvYWRJbnRlcnZhbCc6IDMwLFxuICAgICdhbmltYXRpb25FbmQnOiAnd2Via2l0QW5pbWF0aW9uRW5kIG1vekFuaW1hdGlvbkVuZCBNU0FuaW1hdGlvbkVuZCBvYW5pbWF0aW9uZW5kIGFuaW1hdGlvbmVuZCcsXG4gICAgJ2luY2x1ZGVVcmwnOiAnL3Rlcm1pbnZlcmVpbmJhcnVuZy90aWNrZXRwcmludGVyJ1xufTtcbiIsIi8qIVxuICogSmF2YVNjcmlwdCBDb29raWUgdjIuMi4wXG4gKiBodHRwczovL2dpdGh1Yi5jb20vanMtY29va2llL2pzLWNvb2tpZVxuICpcbiAqIENvcHlyaWdodCAyMDA2LCAyMDE1IEtsYXVzIEhhcnRsICYgRmFnbmVyIEJyYWNrXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqL1xuOyhmdW5jdGlvbiAoZmFjdG9yeSkge1xuXHR2YXIgcmVnaXN0ZXJlZEluTW9kdWxlTG9hZGVyID0gZmFsc2U7XG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcblx0XHRkZWZpbmUoZmFjdG9yeSk7XG5cdFx0cmVnaXN0ZXJlZEluTW9kdWxlTG9hZGVyID0gdHJ1ZTtcblx0fVxuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdFx0cmVnaXN0ZXJlZEluTW9kdWxlTG9hZGVyID0gdHJ1ZTtcblx0fVxuXHRpZiAoIXJlZ2lzdGVyZWRJbk1vZHVsZUxvYWRlcikge1xuXHRcdHZhciBPbGRDb29raWVzID0gd2luZG93LkNvb2tpZXM7XG5cdFx0dmFyIGFwaSA9IHdpbmRvdy5Db29raWVzID0gZmFjdG9yeSgpO1xuXHRcdGFwaS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0d2luZG93LkNvb2tpZXMgPSBPbGRDb29raWVzO1xuXHRcdFx0cmV0dXJuIGFwaTtcblx0XHR9O1xuXHR9XG59KGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gZXh0ZW5kICgpIHtcblx0XHR2YXIgaSA9IDA7XG5cdFx0dmFyIHJlc3VsdCA9IHt9O1xuXHRcdGZvciAoOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXR0cmlidXRlcyA9IGFyZ3VtZW50c1sgaSBdO1xuXHRcdFx0Zm9yICh2YXIga2V5IGluIGF0dHJpYnV0ZXMpIHtcblx0XHRcdFx0cmVzdWx0W2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHRmdW5jdGlvbiBpbml0IChjb252ZXJ0ZXIpIHtcblx0XHRmdW5jdGlvbiBhcGkgKGtleSwgdmFsdWUsIGF0dHJpYnV0ZXMpIHtcblx0XHRcdHZhciByZXN1bHQ7XG5cdFx0XHRpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFdyaXRlXG5cblx0XHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRhdHRyaWJ1dGVzID0gZXh0ZW5kKHtcblx0XHRcdFx0XHRwYXRoOiAnLydcblx0XHRcdFx0fSwgYXBpLmRlZmF1bHRzLCBhdHRyaWJ1dGVzKTtcblxuXHRcdFx0XHRpZiAodHlwZW9mIGF0dHJpYnV0ZXMuZXhwaXJlcyA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0XHR2YXIgZXhwaXJlcyA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdFx0ZXhwaXJlcy5zZXRNaWxsaXNlY29uZHMoZXhwaXJlcy5nZXRNaWxsaXNlY29uZHMoKSArIGF0dHJpYnV0ZXMuZXhwaXJlcyAqIDg2NGUrNSk7XG5cdFx0XHRcdFx0YXR0cmlidXRlcy5leHBpcmVzID0gZXhwaXJlcztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFdlJ3JlIHVzaW5nIFwiZXhwaXJlc1wiIGJlY2F1c2UgXCJtYXgtYWdlXCIgaXMgbm90IHN1cHBvcnRlZCBieSBJRVxuXHRcdFx0XHRhdHRyaWJ1dGVzLmV4cGlyZXMgPSBhdHRyaWJ1dGVzLmV4cGlyZXMgPyBhdHRyaWJ1dGVzLmV4cGlyZXMudG9VVENTdHJpbmcoKSA6ICcnO1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0cmVzdWx0ID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuXHRcdFx0XHRcdGlmICgvXltcXHtcXFtdLy50ZXN0KHJlc3VsdCkpIHtcblx0XHRcdFx0XHRcdHZhbHVlID0gcmVzdWx0O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBjYXRjaCAoZSkge31cblxuXHRcdFx0XHRpZiAoIWNvbnZlcnRlci53cml0ZSkge1xuXHRcdFx0XHRcdHZhbHVlID0gZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyh2YWx1ZSkpXG5cdFx0XHRcdFx0XHQucmVwbGFjZSgvJSgyM3wyNHwyNnwyQnwzQXwzQ3wzRXwzRHwyRnwzRnw0MHw1Qnw1RHw1RXw2MHw3Qnw3RHw3QykvZywgZGVjb2RlVVJJQ29tcG9uZW50KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR2YWx1ZSA9IGNvbnZlcnRlci53cml0ZSh2YWx1ZSwga2V5KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGtleSA9IGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoa2V5KSk7XG5cdFx0XHRcdGtleSA9IGtleS5yZXBsYWNlKC8lKDIzfDI0fDI2fDJCfDVFfDYwfDdDKS9nLCBkZWNvZGVVUklDb21wb25lbnQpO1xuXHRcdFx0XHRrZXkgPSBrZXkucmVwbGFjZSgvW1xcKFxcKV0vZywgZXNjYXBlKTtcblxuXHRcdFx0XHR2YXIgc3RyaW5naWZpZWRBdHRyaWJ1dGVzID0gJyc7XG5cblx0XHRcdFx0Zm9yICh2YXIgYXR0cmlidXRlTmFtZSBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdFx0aWYgKCFhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdKSB7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c3RyaW5naWZpZWRBdHRyaWJ1dGVzICs9ICc7ICcgKyBhdHRyaWJ1dGVOYW1lO1xuXHRcdFx0XHRcdGlmIChhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdID09PSB0cnVlKSB7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c3RyaW5naWZpZWRBdHRyaWJ1dGVzICs9ICc9JyArIGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV07XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIChkb2N1bWVudC5jb29raWUgPSBrZXkgKyAnPScgKyB2YWx1ZSArIHN0cmluZ2lmaWVkQXR0cmlidXRlcyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlYWRcblxuXHRcdFx0aWYgKCFrZXkpIHtcblx0XHRcdFx0cmVzdWx0ID0ge307XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRvIHByZXZlbnQgdGhlIGZvciBsb29wIGluIHRoZSBmaXJzdCBwbGFjZSBhc3NpZ24gYW4gZW1wdHkgYXJyYXlcblx0XHRcdC8vIGluIGNhc2UgdGhlcmUgYXJlIG5vIGNvb2tpZXMgYXQgYWxsLiBBbHNvIHByZXZlbnRzIG9kZCByZXN1bHQgd2hlblxuXHRcdFx0Ly8gY2FsbGluZyBcImdldCgpXCJcblx0XHRcdHZhciBjb29raWVzID0gZG9jdW1lbnQuY29va2llID8gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7ICcpIDogW107XG5cdFx0XHR2YXIgcmRlY29kZSA9IC8oJVswLTlBLVpdezJ9KSsvZztcblx0XHRcdHZhciBpID0gMDtcblxuXHRcdFx0Zm9yICg7IGkgPCBjb29raWVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHZhciBwYXJ0cyA9IGNvb2tpZXNbaV0uc3BsaXQoJz0nKTtcblx0XHRcdFx0dmFyIGNvb2tpZSA9IHBhcnRzLnNsaWNlKDEpLmpvaW4oJz0nKTtcblxuXHRcdFx0XHRpZiAoIXRoaXMuanNvbiAmJiBjb29raWUuY2hhckF0KDApID09PSAnXCInKSB7XG5cdFx0XHRcdFx0Y29va2llID0gY29va2llLnNsaWNlKDEsIC0xKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0dmFyIG5hbWUgPSBwYXJ0c1swXS5yZXBsYWNlKHJkZWNvZGUsIGRlY29kZVVSSUNvbXBvbmVudCk7XG5cdFx0XHRcdFx0Y29va2llID0gY29udmVydGVyLnJlYWQgP1xuXHRcdFx0XHRcdFx0Y29udmVydGVyLnJlYWQoY29va2llLCBuYW1lKSA6IGNvbnZlcnRlcihjb29raWUsIG5hbWUpIHx8XG5cdFx0XHRcdFx0XHRjb29raWUucmVwbGFjZShyZGVjb2RlLCBkZWNvZGVVUklDb21wb25lbnQpO1xuXG5cdFx0XHRcdFx0aWYgKHRoaXMuanNvbikge1xuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0Y29va2llID0gSlNPTi5wYXJzZShjb29raWUpO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZSkge31cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoa2V5ID09PSBuYW1lKSB7XG5cdFx0XHRcdFx0XHRyZXN1bHQgPSBjb29raWU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIWtleSkge1xuXHRcdFx0XHRcdFx0cmVzdWx0W25hbWVdID0gY29va2llO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBjYXRjaCAoZSkge31cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cblx0XHRhcGkuc2V0ID0gYXBpO1xuXHRcdGFwaS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRyZXR1cm4gYXBpLmNhbGwoYXBpLCBrZXkpO1xuXHRcdH07XG5cdFx0YXBpLmdldEpTT04gPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gYXBpLmFwcGx5KHtcblx0XHRcdFx0anNvbjogdHJ1ZVxuXHRcdFx0fSwgW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcblx0XHR9O1xuXHRcdGFwaS5kZWZhdWx0cyA9IHt9O1xuXG5cdFx0YXBpLnJlbW92ZSA9IGZ1bmN0aW9uIChrZXksIGF0dHJpYnV0ZXMpIHtcblx0XHRcdGFwaShrZXksICcnLCBleHRlbmQoYXR0cmlidXRlcywge1xuXHRcdFx0XHRleHBpcmVzOiAtMVxuXHRcdFx0fSkpO1xuXHRcdH07XG5cblx0XHRhcGkud2l0aENvbnZlcnRlciA9IGluaXQ7XG5cblx0XHRyZXR1cm4gYXBpO1xuXHR9XG5cblx0cmV0dXJuIGluaXQoZnVuY3Rpb24gKCkge30pO1xufSkpO1xuIl19"}