{
   "mappings" : {
      "location" : {
         "properties" : {
            "opening_times" : {
               "properties" : {
                  "friday" : {
                     "type" : "string"
                  },
                  "monday" : {
                     "type" : "string"
                  },
                  "tuesday" : {
                     "type" : "string"
                  },
                  "sunday" : {
                     "type" : "boolean"
                  },
                  "wednesday" : {
                     "type" : "string"
                  },
                  "special" : {
                     "type" : "boolean"
                  },
                  "saturday" : {
                     "type" : "boolean"
                  },
                  "thursday" : {
                     "type" : "string"
                  }
               }
            },
            "transit" : {
               "properties" : {
                  "sbahn" : {
                     "type" : "string"
                  },
                  "tram" : {
                     "type" : "string"
                  },
                  "ubahn" : {
                     "type" : "string"
                  },
                  "bus" : {
                     "type" : "string"
                  }
               }
            },
            "services" : {
               "include_in_all" : false,
               "properties" : {
                  "contact" : {
                     "properties" : {
                        "email" : {
                           "type" : "string"
                        },
                        "phone" : {
                           "type" : "string"
                        },
                        "fax" : {
                           "type" : "string"
                        },
                        "name" : {
                           "type" : "string"
                        }
                     }
                  },
                  "service" : {
                     "type" : "string"
                  },
                  "appointment" : {
                     "properties" : {
                        "link" : {
                           "type" : "string"
                        },
                        "external" : {
                           "type" : "boolean"
                        },
                        "allowed" : {
                           "type" : "boolean"
                        },
                        "slots" : {
                           "type" : "string"
                        }
                     }
                  },
                  "hint" : {
                     "type" : "string"
                  }
               }
            },
            "meta" : {
               "properties" : {
                  "lastupdate" : {
                     "type" : "date",
                     "format" : "dateOptionalTime"
                  },
                  "locale": {
                     "type" : "string",
                     "index": "not_analyzed"
                  },
                  "keywords" : {
                     "type" : "multi_field",
                     "fields" : {               
		                "sort" : {    
		                  "type" : "string",           
		                  "analyzer" : "german_phonebook"
		                } ,
	                    "keywords" : {
	                  	  "type" : "string",
	                  	  "analyzer" : "autocomplete"
	                    }   
		             }
                  }
               }
            },
            "address" : {
               "properties" : {
                  "city" : {
                     "type" : "string"
                  },
                  "postal_code" : {
                     "type" : "string"
                  },
                  "house_number" : {
                     "type" : "string"
                  },
                  "street" : {
                     "type" : "string"
                  }
               }
            },
            "payment" : {
               "type" : "string"
            },
            "paymentcode" : {
               "type" : "string"
            },
            "geo" : {
               "type" : "geo_point"
            },
            "accessibility" : {
               "properties" : {
                  "parking" : {
                     "type" : "string"
                  },
                  "note" : {
                     "type" : "boolean"
                  },
                  "elevator" : {
                     "type" : "string"
                  },
                  "access" : {
                     "type" : "string"
                  },
                  "wc" : {
                     "type" : "string"
                  }
               }
            },
            "appointment" : {
               "properties" : {
                  "note" : {
                     "type" : "string"
                  }
               }
            },
            "id" : {
               "type" : "string"
            },
            "authority" : {
               "properties" : {
                  "id" : {
                     "type" : "string"
                  },
                  "name" : {
                     "type" : "string",
                     "fields": {
                         "authority.sort": {
                             "type":     "string",
                             "analyzer": "german_phonebook"
                         }
                     }
                  }
               }
            },
            "note" : {
               "type" : "string"
            },
            "name" : {
               "type" : "string",
               "fields" : {               
                  "sort" : {    
                  	"type" : "string",           
                  	"analyzer" : "german_phonebook"
                  },
                  "name" : {
                     "type" : "string"
                  },
                  "sort": {
                      "type":     "string",
                      "analyzer": "german_phonebook"
                  }
               }
            },
            "contact" : {
               "properties" : {
                  "phone" : {
                     "type" : "string"
                  },
                  "email" : {
                     "type" : "string"
                  },
                  "webinfo" : {
                     "type" : "string"
                  },
                  "fax" : {
                     "type" : "string"
                  }
               }
            }
         }
      },
      "service" : {
         "properties" : {
            "requirements" : {
               "properties" : {
                  "link" : {
                     "type" : "string"
                  },
                  "description" : {
                     "type" : "boolean"
                  },
                  "name" : {
                     "type" : "string"
                  }
               }
            },
            "forms" : {
               "properties" : {
                  "name" : {
                     "type" : "string"
                  },
                  "description" : {
                     "type" : "boolean"
                  },
                  "link" : {
                     "type" : "string"
                  }
               }
            },
            "prerequisites" : {
               "properties" : {
                  "link" : {
                     "type" : "string"
                  },
                  "description" : {
                     "type" : "boolean"
                  },
                  "name" : {
                     "type" : "string"
                  }
               }
            },
            "leika" : {
               "type" : "string"
            },
            "fees" : {
               "type" : "string"
            },
            "links" : {
               "properties" : {
                  "link" : {
                     "type" : "string"
                  },
                  "description" : {
                     "type" : "boolean"
                  },
                  "name" : {
                     "type" : "string",
                     "fields" : {               
		                "sort" : {    
		                  "type" : "string",           
		                  "analyzer" : "german_phonebook"
		                }    
		             }
                  }
               }
            },
            "responsibility_all" : {
               "type" : "string"
            },
            "description" : {
               "type" : "string"
            },
            "locations" : {
               "properties" : {
                  "hint" : {
                     "type" : "string"
                  },
                  "location" : {
                     "type" : "string"
                  }
               }
            },
            "id" : {
               "type" : "string"
            },
            "process_time" : {
               "type" : "string"
            },
            "legal" : {
               "properties" : {
                  "link" : {
                     "type" : "string"
                  },
                  "description" : {
                     "type" : "boolean"
                  },
                  "name" : {
                     "type" : "string"
                  }
               }
            },
            "publications" : {
               "properties" : {
                  "name" : {
                     "type" : "string"
                  },
                  "link" : {
                     "type" : "string"
                  },
                  "description" : {
                     "type" : "boolean"
                  }
               }
            },
            "name" : {
               "type" : "multi_field",
               "fields" : {           
                  "sort" : {    
                  	 "type" : "string",           
                  	 "analyzer" : "german_phonebook"
                  },
                  "name" : {
                     "type" : "string"
                  },
                  "sort": {
                      "type":     "string",
                      "analyzer": "german_phonebook"
                  }
               }
            },
            "meta" : {
               "properties" : {
                  "lastupdate" : {
                     "format" : "dateOptionalTime",
                     "type" : "date"
                  },
                  "locale": {
                     "type" : "string",
                     "index": "not_analyzed"
                  },
                  "keywords" : {
                     "type" : "multi_field",
                     "fields" : {               
	                   "sort" : {    
	                  	 "type" : "string",           
	                  	 "analyzer" : "german_phonebook"
	                   },
	                   "keywords" : {
	                  	 "type" : "string",
	                  	 "analyzer" : "autocomplete"
	                   }     
	                }
                  }
               }
            },
            "onlineprocessing" : {
               "properties" : {
                  "link" : {
                     "type" : "string"
                  },
                  "description" : {
                     "type" : "boolean"
                  }
               }
            },
            "responsibility" : {
               "type" : "boolean"
            }
         }
      }
   },
   "settings" : {
      "analysis" : {
         "analyzer" : {
            "az" : {
               "tokenizer" : "keyword",
               "type" : "custom",
               "filter" : [
                  "lowercase",
                  "azfilter",
                  "de_DE",
                  "snowball_german2"
               ]
            },
            "default_index" : {
               "tokenizer" : "standard",
               "type" : "custom",
               "filter" : [
                  "icu_normalizer",
                  "icu_folding",
                  "lowercase",
                  "de_DE",
                  "snowball_german2",
                  "prefix"
               ]
           },
            "german_phonebook" : {
               "tokenizer" : "keyword",
               "type" : "custom",
               "filter" : [
                  "icu_normalizer",
                  "icu_folding",
                  "lowercase",
                  "de_DE",
                  "snowball_german2"
               ]
            },
            "default_search" : {
               "tokenizer" : "standard",
               "type" : "custom",
               "filter" : [
                  "icu_normalizer",
                  "icu_folding",
                  "lowercase",
                  "de_DE",
                  "snowball_german2"
               ]
            }
         },
         "filter" : {
            "snowball_german2" : {
               "language" : "German2",
               "type" : "snowball"
            },
            "german_phonebook": {
                "type":     "icu_collation",
                "language": "de",
                "country":  "DE",
                "variant":  "@collation=phonebook"
            },
            "de_DE" : {
                "type" : "hunspell",
                "locale" : "de_DE"
            },
            "prefix" : {
                "type": "edgeNGram",
                "min_gram": 3,
                "max_gram": 100,
                "side": "front"
            },
            "azfilter" : {
                "type": "edgeNGram",
                "min_gram": 1,
                "max_gram": 1,
                "side": "front"
            }
         }
      },
      "number_of_shards" : "1",
      "number_of_replicas" : "1"
   }
}